{"version":3,"sources":["../src/accordion.js"],"names":["Selectors","DATA_ACCORDION","DATA_ACCORDION_ROW","DATA_VISIBLE","DATA_TARGET","DATA_TOGGLE_MULTIPLE","DATA_PARENT","ARIA_EXPANDED","ARIA_CONTROLS","ARIA_HIDDEN","ARIA_LABELLEDBY","TABINDEX","Events","CLICK","KEYDOWN","Messages","NO_VISIBLE_ERROR","id","NO_ROW_ERROR","NO_HEADER_ID_ERROR","NO_PARENT_ERROR","NO_CONTENT_ERROR","Accordion","_render","bind","_accordionButtons","_accordionContentsAttr","_accordionContents","_activeContainer","_activeButton","_activeAccordionRowId","_activeRowAttr","_activeRow","_activeContainerId","_activeContainerAttr","_activeContent","_activeButtonExpandState","_activeContentHiddenState","_headerLevels","accordionButtonSelector","_getPossibleAccordionButtonAttrs","length","forEach","button","_setupAccordion","addEventListener","removeEventListener","event","preventDefault","target","getAttribute","_getAccordionRowAttr","document","querySelector","console","error","NO_ACCORDION_ERROR","getElementById","accordionButtonState","_closeAllIfToggleable","_toggleSelectedAccordion","buttonId","buttonContent","accordionRowAttr","accordionRow","buttonHeaderAttr","_getPossibleAccordionHeaderAttrs","buttonHeader","buttonContentChildren","setAttribute","contentShouldExpand","style","maxHeight","scrollHeight","element","attr","map","num","join","hasAttribute","allContentAttr","allRows","allContent","allButtons","content","_toggleAttributeInCollection","activeContentBlock","value","elements","attributeName","currentValue","newValue","Utils"],"mappings":"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","sourcesContent":["import Utils, { getFocusableElements, nodeListToArray } from \"./utils\"\n\nconst Selectors = {\n  // unique\n  DATA_ACCORDION: \"data-accordion\",\n  DATA_ACCORDION_ROW: \"data-accordion-row\",\n  // common\n  DATA_VISIBLE: \"data-visible\",\n  DATA_TARGET: \"data-target\",\n  DATA_TOGGLE_MULTIPLE: \"data-toggle-multiple\",\n  DATA_PARENT: \"data-parent\",\n  // accessibility\n  ARIA_EXPANDED: \"aria-expanded\",\n  ARIA_CONTROLS: \"aria-controls\",\n  ARIA_HIDDEN: \"aria-hidden\",\n  ARIA_LABELLEDBY: \"aria-labelledby\",\n  TABINDEX: \"tabindex\",\n}\n\nconst Events = {\n  CLICK: \"click\",\n  KEYDOWN: \"keydown\",\n}\n\nconst Messages = {\n  NO_VISIBLE_ERROR: id =>\n    `Could not find parent with [data-visible] attribute associated with [data-target='${id}'].`,\n  NO_ROW_ERROR: id => `Could not find [data-accordion-row] associated with ${id}.`,\n  NO_HEADER_ID_ERROR: id => `Could not find header tag associated with [data-target='${id}'].`,\n  NO_PARENT_ERROR: id => `Could not find [data-parent] associated with [data-target='${id}'].`,\n  NO_CONTENT_ERROR: id =>\n    `Could not find accordion content block with [id] ${id} associated with [data-target='${id}'].`,\n}\n\n/**\n * Accordion component class.\n * @module Accordion\n * @requires Utils\n */\nexport default class Accordion extends Utils {\n  constructor() {\n    super()\n\n    // events\n    this._render = this._render.bind(this)\n\n    // all accordions\n    this._accordionButtons = []\n    this._accordionContentsAttr = \"\"\n    this._accordionContents = []\n\n    // active accordion\n    this._activeContainer = {}\n    this._activeButton = {}\n    this._activeAccordionRowId = \"\"\n    this._activeRowAttr = \"\"\n    this._activeRow = \"\"\n    this._activeContainerId = \"\"\n    this._activeContainerAttr = \"\"\n    this._activeContent = {}\n    this._activeButtonExpandState = \"\"\n    this._activeContentHiddenState = \"\"\n\n    // other data\n    this._headerLevels = [1, 2, 3, 4, 5, 6]\n  }\n\n  // public\n\n  /**\n   * Sets up accordion components and listens to buttons for events.\n   * Begin listening to [data-accordion-button] elements\n   */\n  start() {\n    const accordionButtonSelector = this._getPossibleAccordionButtonAttrs(\n      `[${Selectors.DATA_ACCORDION}]`\n    )\n    this._accordionButtons = nodeListToArray(accordionButtonSelector)\n\n    if (this._accordionButtons.length) {\n      this._accordionButtons.forEach(button => {\n        this._setupAccordion(button)\n        button.addEventListener(Events.CLICK, this._render)\n      })\n    }\n  }\n\n  /**\n   * Stop listening to accordion button events.\n   */\n  stop() {\n    this._accordionButtons.forEach(button => {\n      button.removeEventListener(Events.CLICK, this._render)\n    })\n  }\n\n  // private\n\n  /**\n   * Open accordion content associated with an accordion button.\n   * @param {Object} event - The event object\n   */\n  _render(event) {\n    event.preventDefault()\n\n    this._activeButton = event.target\n    this._activeAccordionRowId = this._activeButton.getAttribute(Selectors.DATA_TARGET)\n\n    this._activeRowAttr = this._getAccordionRowAttr(this._activeAccordionRowId)\n    this._activeRow = document.querySelector(this._activeRowAttr)\n    this._activeContainerId = this._activeButton.getAttribute(Selectors.DATA_PARENT)\n\n    if (!this._activeContainerId) {\n      return console.error(Messages.NO_PARENT_ERROR(this._activeAccordionRowId))\n    }\n\n    this._activeContainerAttr = `[${Selectors.DATA_ACCORDION}='${this._activeContainerId}']`\n    this._activeContainer = document.querySelector(this._activeContainerAttr)\n\n    if (!this._activeContainer) {\n      return console.error(Messages.NO_ACCORDION_ERROR(this._activeContainerId))\n    }\n\n    this._activeContent = document.getElementById(this._activeAccordionRowId)\n\n    const accordionButtonState = this._activeRow.getAttribute(Selectors.DATA_VISIBLE)\n\n    this._activeButtonExpandState = accordionButtonState === \"true\" ? \"false\" : \"true\"\n    this._activeContentHiddenState = this._activeButtonExpandState === \"false\" ? \"true\" : \"false\"\n\n    this._closeAllIfToggleable()\n    this._toggleSelectedAccordion()\n\n    this._activeContainerId = null\n    this._activeContainer = null\n  }\n\n  /**\n   * Add initial attributes to accordion elements.\n   * @param {Element} button - A button element that triggers an accordion.\n   */\n  _setupAccordion(button) {\n    const buttonId = button.getAttribute(Selectors.DATA_TARGET)\n    const buttonContent = document.getElementById(buttonId)\n    \n    if (!buttonContent) {\n      return console.error(Messages.NO_CONTENT_ERROR(buttonId))\n    }\n\n    const accordionRowAttr = this._getAccordionRowAttr(buttonId)\n    const accordionRow = document.querySelector(accordionRowAttr)\n    \n    if (!accordionRow) {\n      return console.error(Messages.NO_ROW_ERROR(buttonId))\n    }\n\n    const buttonHeaderAttr = this._getPossibleAccordionHeaderAttrs(accordionRowAttr)\n    const buttonHeader = nodeListToArray(buttonHeaderAttr)[0]\n\n    if (!buttonHeader || !buttonHeader.id) {\n      console.error(Messages.NO_HEADER_ID_ERROR(buttonId))\n    }\n\n    const buttonContentChildren = getFocusableElements(`#${buttonContent.id}`)\n\n    button.setAttribute(Selectors.ARIA_CONTROLS, buttonId)\n    buttonContent.setAttribute(Selectors.ARIA_LABELLEDBY, buttonHeader.id)\n\n    const contentShouldExpand = accordionRow.getAttribute(Selectors.DATA_VISIBLE)\n    \n    if (!contentShouldExpand) {\n      return console.error(Messages.NO_VISIBLE_ERROR(buttonId))\n    }\n\n    if (contentShouldExpand === \"true\") {\n      buttonContent.style.maxHeight = `${buttonContent.scrollHeight}px`\n      button.setAttribute(Selectors.ARIA_EXPANDED, \"true\")\n      buttonContent.setAttribute(Selectors.ARIA_HIDDEN, \"false\")\n      buttonContentChildren.forEach(element => {\n        element.setAttribute(Selectors.TABINDEX, \"0\")\n      })\n    } else {\n      button.setAttribute(Selectors.ARIA_EXPANDED, \"false\")\n      buttonContent.setAttribute(Selectors.ARIA_HIDDEN, \"true\")\n      buttonContentChildren.forEach(element => {\n        element.setAttribute(Selectors.TABINDEX, \"-1\")\n      })\n    }\n  }\n\n  /**\n   * Build a selector string to match possible accordion buttons\n   * @param {String} attr - A unique attribute\n   * @return {String} - String of possible button selectors\n   */\n  _getPossibleAccordionButtonAttrs(attr) {\n    return this._headerLevels\n      .map(\n        num => `${attr} > [${Selectors.DATA_ACCORDION_ROW}] > h${num} [${Selectors.DATA_TARGET}]`\n      )\n      .join(\", \")\n  }\n\n  /**\n   * Build a selector string to match possible accordion headers\n   * @param {String} attr - A unique attribute\n   * @return {String} - String of possible header selectors\n   */\n  _getPossibleAccordionHeaderAttrs(attr) {\n    return this._headerLevels.map(num => `${attr} > h${num}`).join(\", \")\n  }\n\n  /**\n   * Build a unique accordion row attribute selector.\n   * @param {String} id - An id value associated with a given Selectors.DATA_TARGET\n   * @return {String} - A unique accordion row selector\n   */\n  _getAccordionRowAttr(id) {\n    return `[${Selectors.DATA_ACCORDION_ROW}='${id}']`\n  }\n\n  /**\n   * If toggling multiple rows at once isn't enabled, close all rows except the selected one.\n   * This ensures the selected one can be closed if it's already open.\n   */\n  _closeAllIfToggleable() {\n    if (this._activeContainer.hasAttribute(Selectors.DATA_TOGGLE_MULTIPLE)) return\n\n    const allContentAttr = `${this._activeContainerAttr} [${Selectors.ARIA_HIDDEN}]`\n    const allRows = nodeListToArray(\n      `${this._activeContainerAttr} [${Selectors.DATA_VISIBLE}]`\n    )\n    const allContent = nodeListToArray(allContentAttr)\n\n    const accordionButtonSelector = this._getPossibleAccordionButtonAttrs(this._activeContainerAttr)\n    const allButtons = nodeListToArray(accordionButtonSelector)\n\n    allContent.forEach(content => {\n      if (content !== this._activeContent) content.style.maxHeight = null\n    })\n\n    getFocusableElements(allContentAttr).forEach(element => {\n      element.setAttribute(Selectors.TABINDEX, \"-1\")\n    })\n\n    this._toggleAttributeInCollection(allRows, Selectors.DATA_VISIBLE, \"true\", \"false\")\n    this._toggleAttributeInCollection(allButtons, Selectors.ARIA_EXPANDED, \"true\", \"false\")\n    this._toggleAttributeInCollection(allContent, Selectors.ARIA_HIDDEN, \"false\", \"true\")\n  }\n\n  /**\n   * Toggle the currently selected accordion button's content.\n   */\n  _toggleSelectedAccordion() {\n    this._activeRow.setAttribute(Selectors.DATA_VISIBLE, this._activeButtonExpandState)\n    this._activeButton.setAttribute(Selectors.ARIA_EXPANDED, this._activeButtonExpandState)\n    this._activeContent.setAttribute(Selectors.ARIA_HIDDEN, this._activeContentHiddenState)\n\n    const activeContentBlock = `#${this._activeAccordionRowId}`\n    getFocusableElements(activeContentBlock).forEach(element => {\n      const value = this._activeButtonExpandState === \"true\" ? \"0\" : \"-1\"\n      element.setAttribute(Selectors.TABINDEX, value)\n    })\n\n    if (this._activeContent.style.maxHeight) {\n      this._activeContent.style.maxHeight = null\n    } else {\n      this._activeContent.style.maxHeight = `${this._activeContent.scrollHeight}px`\n    }\n  }\n\n  /**\n   * Toggles a single attribute of a series of elements.\n   * @param {Array} elements - An array of elements to be operated on.\n   * @param {String} attributeName - An attribute to be changed.\n   * @param {String} currentValue - The current value of attributeName\n   * @param {String} newValue - The new value of attributeName\n   */\n  _toggleAttributeInCollection(elements, attributeName, currentValue, newValue) {\n    elements.forEach(element => {\n      if (element.hasAttribute(attributeName, currentValue)) {\n        element.setAttribute(attributeName, newValue)\n      }\n    })\n  }\n}\n"],"file":"accordion.js"}