{"version":3,"file":"undernet.bundle.js","sources":["../js/src/utils.js","../js/src/components/modal.js","../js/src/components/accordion.js","../js/src/undernet.js"],"sourcesContent":["\"use strict\"\n\nconst keyCodes = {\n  SHIFT: 16,\n  TAB: 9,\n}\n\nconst selectors = {\n  FOCUSABLE_SELECTOR: \":not(.is-visually-hidden)\",\n  FOCUSABLE_TAGS: [\"a\", \"button\", \"input\", \"object\", \"select\", \"textarea\", \"[tabindex]\"],\n  KEYBOARD_CLASS: \"using-keyboard\",\n}\n\nconst events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n}\n\n/**\n * Utility methods for DOM traversal and focus trapping.\n * @module Utils\n */\nexport default class Utils {\n  constructor() {\n    this._handleFocusTrap = this._handleFocusTrap.bind(this)\n    this._listenForKeyboard = this._listenForKeyboard.bind(this)\n    this._listenForClick = this._listenForClick.bind(this)\n  }\n\n  // public\n\n  /**\n   * Listens to the first and last elements matched from this._getFocusableElements()\n   * @param {String} container - The container's class, attribute, etc.\n   */\n  captureFocus(container) {\n    this.focusContainerSelector = container\n    const children = this._getFocusableElements(this.focusContainerSelector)\n    this.focusableFirstChild = children[0]\n    this.focusableLastChild = children[children.length - 1]\n\n    document.addEventListener(events.KEYDOWN, this._handleFocusTrap)\n  }\n\n  /**\n   * Stop trapping focus set in this.captureFocus()\n   */\n  releaseFocus() {\n    document.removeEventListener(events.KEYDOWN, this._handleFocusTrap)\n  }\n\n  /**\n   * Begin listening to _listenForKeyboard()\n   */\n  enableFocusOutline() {\n    document.addEventListener(events.KEYDOWN, this._listenForKeyboard)\n  }\n\n  /**\n   * Completely disable focus outline utility.\n   */\n  disableFocusOutline() {\n    document.removeEventListener(events.KEYDOWN, this._listenForKeyboard)\n    document.removeEventListener(events.CLICK, this.__listenForClick)\n  }\n\n  // private\n\n  /**\n   * When a key is pressed, detect if it's tab or shift keys and enable\n   * focus outlines on currently focused element(s). Then, remove keydown listener\n   * and add click listener on _listenForClick().\n   * @param {Object} event - Event (keypress).\n   */\n  _listenForKeyboard(event) {\n    const tabKey = event.which === keyCodes.TAB\n    const shiftKey = event.which === keyCodes.SHIFT || event.shiftKey\n\n    if (tabKey || shiftKey) {\n      document.body.classList.add(selectors.KEYBOARD_CLASS)\n      document.removeEventListener(events.KEYDOWN, this._listenForKeyboard)\n      document.addEventListener(events.CLICK, this._listenForClick)\n    }\n  }\n\n  /**\n   * On click, remove selectors.KEYBOARD_CLASS and re-add keydown listener.\n   * @param {Object} event - Event (keypress).\n   */\n  _listenForClick(event) {\n    document.body.classList.remove(selectors.KEYBOARD_CLASS)\n    document.removeEventListener(events.CLICK, this._listenForClick)\n    document.addEventListener(events.KEYDOWN, this._listenForKeyboard)\n  }\n\n  /**\n   * Because IE does not recognize NodeList.forEach(),\n   * we use a cross-browser solution for returning an array of DOM nodes every time.\n   * @param {String} element - A DOM node's class, attribute, etc., to search the document.\n   * @return {Array}\n   */\n  _getElements(element) {\n    const nodeList = document.querySelectorAll(element)\n    return Array.apply(null, nodeList)\n  }\n\n  /**\n   * Creates a string of element selector patterns using common elements.\n   * @param {String} container - The enclosing container's class, attribute, etc.\n   * @return {String}\n   */\n  _getFocusableElements(container) {\n    let focusables = []\n    selectors.FOCUSABLE_TAGS.map(element =>\n      focusables.push(`${container} ${element}${selectors.FOCUSABLE_SELECTOR}`),\n    )\n    return this._getElements(focusables.join(\", \"))\n  }\n\n  /**\n   * Handles focus on first or last child in a container.\n   * @param {Object} event - Event (keypress)\n   */\n  _handleFocusTrap(event) {\n    const activeElement = document.activeElement\n    const containerElement = document.querySelector(this.focusContainerSelector)\n    const containerActive = activeElement === containerElement\n    const firstActive = activeElement === this.focusableFirstChild\n    const lastActive = activeElement === this.focusableLastChild\n    const tabKey = event.which === keyCodes.TAB\n    const shiftKey = event.which === keyCodes.SHIFT || event.shiftKey\n    const hasShift = shiftKey && tabKey\n    const noShift = !shiftKey && tabKey\n\n    // Just in case the first or last child have changed -\n    // recapture focus and continue trapping.\n    this.releaseFocus()\n    this.captureFocus(this.focusContainerSelector)\n\n    if (hasShift && (firstActive || containerActive)) {\n      event.preventDefault()\n      this.focusableLastChild.focus()\n    } else if (noShift && lastActive) {\n      event.preventDefault()\n      this.focusableFirstChild.focus()\n    }\n  }\n}\n","\"use strict\"\n\nimport Utils from \"../utils\"\n\nconst keyCodes = {\n  ESCAPE: 27,\n}\n\nconst selectors = {\n  // unique\n  MODAL_CONTAINER: \"data-modal\",\n  MODAL_ID: \"data-modal-id\",\n  MODAL_BUTTON: \"data-modal-button\",\n  NO_SCROLL: \"no-scroll\",\n  // common\n  VISIBLE: \"data-visible\",\n  CLOSE: \"data-close\",\n  TARGET: \"data-target\",\n  // accessibility\n  ARIA_HIDDEN: \"aria-hidden\",\n  ARIA_MODAL: \"aria-modal\",\n  ROLE: \"role\",\n  TAB_INDEX: \"tabindex\",\n}\n\nconst events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n  RESIZE: \"resize\",\n}\n\nconst messages = {\n  MISSING_MODAL:\n    \"Your button is missing its corresponding modal. Check to make sure your modal is in the DOM, and that it has a [data-modal-id=*] attribute matchin its [data-modal-button] and [data-target] attributes. It's possible the modal script ran before the button appeared on the page!\",\n}\n\n/**\n * Modal component class.\n * @module Modal\n * @requires Utils\n */\nexport default class Modal extends Utils {\n  constructor() {\n    super()\n    // modal event methods\n    this._getModal = this._getModal.bind(this)\n    this._handleModalClose = this._handleModalClose.bind(this)\n    this._handleEscapeKeyPress = this._handleEscapeKeyPress.bind(this)\n    this._handleOverlayClick = this._handleOverlayClick.bind(this)\n\n    // all modals\n    this.modalContainerAttr = `[${selectors.MODAL_CONTAINER}]`\n    this.closeButtonAttr = `[${selectors.MODAL_CONTAINER}] [${selectors.CLOSE}]`\n    this.modals = null\n    this.modalButtons = null\n    this.closeButtons = null\n\n    // active modal\n    this.activeModalButton = {}\n    this.activeModalId = \"\"\n    this.activeModalOverlayAttr = \"\"\n    this.activeModalOverlay = {}\n    this.activeModalSelector = \"\"\n    this.activeModal = null\n    this.activeModalCloseButtons = []\n  }\n\n  // public\n\n  /**\n   * Add accessible attributes to modal containers\n   * Begin listening to elements with [data-modal-button]\n   */\n  start() {\n    this.modals = this._getElements(this.modalContainerAttr)\n    this.modalButtons = this._getElements(`[${selectors.MODAL_BUTTON}]`)\n    this.closeButtons = this._getElements(this.closeButtonAttr)\n\n    this._getFocusableElements(this.modalContainerAttr).forEach(element => {\n      element.setAttribute(selectors.TAB_INDEX, \"-1\")\n    })\n\n    if (this.modals.length) {\n      this.modals.forEach(modal => {\n        modal.setAttribute(selectors.ARIA_MODAL, \"true\")\n        modal.parentNode.setAttribute(selectors.ARIA_HIDDEN, \"true\")\n        modal.parentNode.setAttribute(selectors.VISIBLE, \"false\")\n        modal.setAttribute(selectors.ROLE, \"dialog\")\n      })\n    }\n\n    if (this.modalButtons.length) {\n      this.modalButtons.forEach(button => {\n        button.addEventListener(events.CLICK, this._getModal)\n      })\n    }\n  }\n\n  /**\n   * Stop listening to modal buttons\n   */\n  stop() {\n    this.modalButtons.forEach(button => {\n      button.removeEventListener(events.CLICK, this._getModal)\n    })\n  }\n\n  // private\n\n  /**\n   * Locate a button's corresponding modal container.\n   * @param {Object} event - The event object\n   */\n  _getModal(event) {\n    event.preventDefault()\n    this._renderModal(event)\n  }\n\n  /**\n   * Find a button through event.target, then render the corresponding modal attribute via matching target id\n   * @param {Object} event - The event object\n   */\n  _renderModal(event) {\n    this.activeModalButton = event.target\n    this.activeModalId = this.activeModalButton.getAttribute(selectors.TARGET)\n    this.activeModalOverlayAttr = `[${selectors.MODAL_ID}='${this.activeModalId}']`\n    this.activeModalOverlay = document.querySelector(this.activeModalOverlayAttr)\n\n    if (!this.activeModalOverlay) {\n      throw messages.MISSING_MODAL\n      return\n    }\n\n    this.activeModalSelector = `${this.activeModalOverlayAttr} ${this.modalContainerAttr}`\n    this.activeModal = document.querySelector(this.activeModalSelector)\n    this.activeModalCloseButtons = this._getElements(\n      `${this.activeModalOverlayAttr} ${this.closeButtonAttr}`,\n    )\n\n    this._getFocusableElements(this.activeModalSelector).forEach(element => {\n      element.setAttribute(selectors.TAB_INDEX, \"0\")\n    })\n\n    this._handleScrollStop()\n    this.captureFocus(this.activeModalSelector)\n    this.activeModalOverlay.setAttribute(selectors.ARIA_HIDDEN, \"false\")\n    this.activeModal.setAttribute(\"tabindex\", \"-1\")\n    this.activeModalOverlay.setAttribute(selectors.VISIBLE, \"true\")\n    this.activeModal.focus()\n\n    // offset slight scroll caused by this.activeModal.focus()\n    this.activeModalOverlay.scrollTop = 0\n\n    // begin listening to events\n    document.addEventListener(events.KEYDOWN, this._handleEscapeKeyPress)\n    document.addEventListener(events.CLICK, this._handleOverlayClick)\n    this.activeModalCloseButtons.forEach(button => {\n      button.addEventListener(events.CLICK, this._handleModalClose)\n    })\n  }\n\n  /**\n   * Turn off event listeners and reset focus to last selected DOM node (button)\n   * @param {Object} event - Event (keydown or click)\n   */\n  _handleModalClose(event) {\n    event.preventDefault()\n    this.activeModalOverlay.setAttribute(selectors.VISIBLE, \"false\")\n    this._handleReturnFocus()\n    this._handleScrollRestore()\n    this.releaseFocus()\n    this.activeModalOverlay.setAttribute(selectors.ARIA_HIDDEN, \"true\")\n    this.activeModal.removeAttribute(\"tabindex\")\n\n    this._getFocusableElements(this.activeModalSelector).forEach(element => {\n      element.setAttribute(selectors.TAB_INDEX, \"-1\")\n    })\n\n    // stop listening to events\n    document.removeEventListener(events.KEYDOWN, this._handleEscapeKeyPress)\n    document.removeEventListener(events.CLICK, this._handleOverlayClick)\n    this.activeModalCloseButtons.forEach(button => {\n      button.removeEventListener(events.CLICK, this._handleModalClose)\n    })\n  }\n\n  /**\n   * Handles click event on the modal background to close it.\n   * @param {Object} event - Event (keydown)\n   */\n  _handleOverlayClick(event) {\n    if (event.target === this.activeModalOverlay) {\n      this._handleModalClose(event)\n    }\n  }\n\n  /**\n   * Handles escape key event to close the current modal\n   * @param {Object} event - Event (keydown)\n   */\n  _handleEscapeKeyPress(event) {\n    if (event.which === keyCodes.ESCAPE) {\n      this._handleModalClose(event)\n    }\n  }\n\n  /**\n   * Returns focus to the last focused element before the modal was called.\n   * @param {Object} button - The current modal's corresponding button.\n   */\n  _handleReturnFocus() {\n    this.activeModalButton.setAttribute(\"tabindex\", \"-1\")\n    this.activeModalButton.focus()\n    this.activeModalButton.removeAttribute(\"tabindex\")\n  }\n\n  /**\n   * Restores scroll behavior to <html> and <body>\n   */\n  _handleScrollRestore() {\n    document.body.classList.remove(selectors.NO_SCROLL)\n    document.querySelector(\"html\").classList.remove(selectors.NO_SCROLL)\n  }\n\n  /**\n   * Prevents scroll behavior on <html> and <body>\n   */\n  _handleScrollStop() {\n    document.body.classList.add(selectors.NO_SCROLL)\n    document.querySelector(\"html\").classList.add(selectors.NO_SCROLL)\n  }\n}\n","\"use strict\"\n\nimport Utils from \"../utils\"\n\nconst keyCodes = {\n  SPACE: 32,\n}\n\nconst selectors = {\n  // unique\n  ACCORDION_CONTAINER: \"data-accordion\",\n  ACCORDION_ROW: \"data-accordion-row\",\n  // common\n  EXPANDED: \"data-expanded\",\n  TARGET: \"data-target\",\n  CONTENT: \"data-content\",\n  TOGGLE_MULTIPLE: \"data-toggle-multiple\",\n  PARENT: \"data-parent\",\n  // accessibility\n  ARIA_EXPANDED: \"aria-expanded\",\n  ARIA_CONTROLS: \"aria-controls\",\n  ARIA_HIDDEN: \"aria-hidden\",\n  TAB_INDEX: \"tabindex\",\n}\n\nconst events = {\n  CLICK: \"click\",\n  KEYDOWN: \"keydown\",\n}\n\nconst messages = {\n  MISSING_CONTENT:\n    \"You have an accordion button that is missing its [data-content] attribute, and has a matching id to the button's [data-target] attribute's value.\",\n}\n\n/**\n * Accordion component class.\n * @module Accordion\n * @requires Utils\n */\nexport default class Accordion extends Utils {\n  constructor() {\n    super()\n    // accordion event methods\n    this._renderAccordionContent = this._renderAccordionContent.bind(this)\n    this._handleSpaceKeyPress = this._handleSpaceKeyPress.bind(this)\n\n    // all accordions\n    this.accordionButtons = null\n    this.accordionContentsAttr = \"\"\n    this.accordionContents = []\n\n    // active accordion\n    this.activeContainer = {}\n    this.activeButton = {}\n    this.activeAccordionRowId = \"\"\n    this.activeRowAttr = \"\"\n    this.activeRow = \"\"\n    this.activeContainerId = \"\"\n    this.activeContainerAttr = \"\"\n    this.activeContainer = {}\n    this.activeContent = {}\n    this.toggleExpandState = null\n    this.toggleContentState = null\n    this.toggleHiddenState = null\n    this.allContentAttr = \"\"\n  }\n\n  // public\n\n  /**\n   * Add accessible attributes [data-accordion-button] and [data-accordion-content] elements\n   * Begin listening to [data-accordion-button] elements\n   */\n  start() {\n    this.accordionButtons = this._getElements(\n      `[${selectors.ACCORDION_CONTAINER}] [${selectors.TARGET}]`,\n    )\n\n    this.accordionContentsAttr = `[${selectors.ACCORDION_CONTAINER}] [${selectors.CONTENT}]`\n    this.accordionContents = this._getElements(this.accordionContentsAttr)\n\n    this._getFocusableElements(this.accordionContentsAttr).forEach(element => {\n      element.setAttribute(selectors.TAB_INDEX, \"-1\")\n    })\n\n    if (this.accordionButtons.length) {\n      this.accordionButtons.forEach(button => {\n        this._setupButton(button)\n        button.addEventListener(events.CLICK, this._renderAccordionContent)\n        button.addEventListener(events.KEYDOWN, this._handleSpaceKeyPress)\n      })\n    }\n\n    if (this.accordionContents.length) {\n      this.accordionContents.forEach(content => {\n        const contentRowAttr = this._getAccordionRowAttr(content.id)\n        const contentRow = document.querySelector(contentRowAttr)\n        const contentHiddenState = contentRow.getAttribute(selectors.EXPANDED)\n        const toggleContentHiddenState = contentHiddenState === \"true\" ? \"false\" : \"true\"\n        content.setAttribute(selectors.ARIA_HIDDEN, toggleContentHiddenState)\n\n        if (toggleContentHiddenState === \"false\") {\n          this._getFocusableElements(`#${content.id}`).forEach(element => {\n            element.setAttribute(selectors.TAB_INDEX, \"0\")\n          })\n        }\n      })\n    }\n  }\n\n  /**\n   * Stop listening to accordion buttons.\n   */\n  stop() {\n    this.accordionButtons.forEach(button => {\n      button.removeEventListener(events.CLICK, this._renderAccordionContent)\n      button.removeEventListener(events.KEYDOWN, this._handleSpaceKeyPress)\n    })\n  }\n\n  // private\n\n  _setupButton(button) {\n    const buttonId = button.getAttribute(selectors.TARGET)\n    const accordionRowAttr = this._getAccordionRowAttr(buttonId)\n    const accordionRow = document.querySelector(accordionRowAttr)\n    const shouldContentExpand = accordionRow.getAttribute(selectors.EXPANDED)\n    const buttonContent = document.getElementById(buttonId)\n\n    button.setAttribute(selectors.ARIA_CONTROLS, buttonId)\n\n    if (shouldContentExpand === \"true\") {\n      buttonContent.style.maxHeight = `${buttonContent.scrollHeight}px`\n      button.setAttribute(selectors.ARIA_EXPANDED, \"true\")\n    } else {\n      button.setAttribute(selectors.ARIA_EXPANDED, \"false\")\n    }\n  }\n\n  /**\n   * Return a selector that targets `selectors.ACCORDION_ROW` with value of the id.\n   * @param {String} id - An id value associated with a given selectors.TARGET\n   * @return {String}\n   */\n  _getAccordionRowAttr(id) {\n    return `[${selectors.ACCORDION_ROW}='${id}']`\n  }\n\n  /**\n   * Open accordion content associated with a [data-accordion-button] element.\n   * @param {Object} event - The event object.\n   */\n  _renderAccordionContent(event) {\n    event.preventDefault()\n\n    this.activeButton = event.target\n    this.activeAccordionRowId = this.activeButton.getAttribute(selectors.TARGET)\n\n    this.activeRowAttr = this._getAccordionRowAttr(this.activeAccordionRowId)\n    this.activeRow = document.querySelector(this.activeRowAttr)\n    this.activeContainerId = this.activeButton.getAttribute(selectors.PARENT)\n    this.activeContainerAttr = `[${selectors.ACCORDION_CONTAINER}='${this.activeContainerId}']`\n    this.activeContainer = document.querySelector(this.activeContainerAttr)\n\n    this.activeContent = document.getElementById(this.activeAccordionRowId)\n\n    const accordionContentHasAttr = this.activeContent.hasAttribute(selectors.CONTENT)\n    if (!accordionContentHasAttr) {\n      throw messages.MISSING_CONTENT\n      return\n    }\n\n    const accordionButtonState = this.activeRow.getAttribute(selectors.EXPANDED)\n    const accordionContentState = this.activeContent.getAttribute(selectors.CONTENT)\n\n    this.toggleExpandState = accordionButtonState === \"true\" ? \"false\" : \"true\"\n    this.toggleContentState = accordionContentState === \"visible\" ? \"hidden\" : \"visible\"\n    this.toggleHiddenState = this.toggleExpandState === \"false\" ? \"true\" : \"false\"\n\n    this._closeAllIfToggleable()\n    this._toggleSelectedAccordion()\n  }\n\n  /**\n   * If a keypress is the spacebar on a button, open its correlated content.\n   * @param {Object} event - The event object.\n   */\n  _handleSpaceKeyPress(event) {\n    if (event.which === keyCodes.SPACE) this._renderAccordionContent(event)\n  }\n\n  /**\n   * If toggling multiple rows at once isn't enabled, close all rows except the selected one.\n   * This ensures the selected one can be closed if it's already open.\n   */\n  _closeAllIfToggleable() {\n    if (this.activeContainer.hasAttribute(selectors.TOGGLE_MULTIPLE)) return\n    this.allContentAttr = `${this.activeContainerAttr} [${selectors.CONTENT}]`\n    const allRows = this._getElements(`${this.activeContainerAttr} [${selectors.EXPANDED}]`)\n    const allContent = this._getElements(this.allContentAttr)\n    const allButtons = this._getElements(`${this.activeContainerAttr} [${selectors.TARGET}]`)\n\n    allContent.forEach(content => {\n      if (!(content === this.activeContent)) content.style.maxHeight = null\n    })\n\n    this._getFocusableElements(this.allContentAttr).forEach(element => {\n      element.setAttribute(selectors.TAB_INDEX, \"-1\")\n    })\n\n    this._toggleAttributeInCollection(allRows, selectors.EXPANDED, \"true\", \"false\")\n    this._toggleAttributeInCollection(allButtons, selectors.ARIA_EXPANDED, \"true\", \"false\")\n    this._toggleAttributeInCollection(allContent, selectors.ARIA_HIDDEN, \"false\", \"true\")\n    this._toggleAttributeInCollection(allContent, selectors.CONTENT, \"visible\", \"hidden\")\n  }\n\n  /**\n   * Toggle a [data-accordion-button]'s corresponding [data-accordion-content] element.\n   */\n  _toggleSelectedAccordion() {\n    this.activeRow.setAttribute(selectors.EXPANDED, this.toggleExpandState)\n    this.activeContent.setAttribute(selectors.CONTENT, this.toggleContentState)\n    this.activeButton.setAttribute(selectors.ARIA_EXPANDED, this.toggleExpandState)\n    this.activeContent.setAttribute(selectors.ARIA_HIDDEN, this.toggleHiddenState)\n\n    const activeContentBlock = `#${this.activeAccordionRowId}`\n    this._getFocusableElements(activeContentBlock).forEach(element => {\n      const value = this.toggleExpandState === \"true\" ? \"0\" : \"-1\"\n      element.setAttribute(selectors.TAB_INDEX, value)\n    })\n\n    if (this.activeContent.style.maxHeight) {\n      this.activeContent.style.maxHeight = null\n    } else {\n      this.activeContent.style.maxHeight = `${this.activeContent.scrollHeight}px`\n    }\n  }\n\n  /**\n   * Toggles a single attribute of a series of elements within a parent.\n   */\n  _toggleAttributeInCollection(elements, attributeName, currentValue, newValue) {\n    elements.forEach(element => {\n      if (element.hasAttribute(attributeName, currentValue)) {\n        element.setAttribute(attributeName, newValue)\n      }\n    })\n  }\n}\n","\"use strict\"\n\nimport _Modals from \"./components/modal\"\nimport _Accordion from \"./components/accordion\"\nimport _Utils from \"./utils\"\n\nconst Modals = new _Modals()\nconst Accordions = new _Accordion()\nconst Utils = new _Utils()\n\nconst Undernet = {\n  // Components\n  Modals,\n  Accordions,\n\n  // Utils\n  Utils,\n}\n\nUndernet.start = () => {\n  // Components\n  Undernet.Modals.start()\n  Undernet.Accordions.start()\n\n  // Utils\n  Undernet.Utils.enableFocusOutline()\n}\n\nUndernet.stop = () => {\n  // Components\n  Undernet.Modals.stop()\n  Undernet.Accordions.stop()\n\n  // Utils\n  Undernet.Utils.disableFocusOutline()\n}\n\nwindow.Undernet = Undernet\nexport default Undernet\n"],"names":["keyCodes","SHIFT","TAB","selectors","FOCUSABLE_SELECTOR","FOCUSABLE_TAGS","KEYBOARD_CLASS","events","KEYDOWN","CLICK","Utils","_handleFocusTrap","bind","_listenForKeyboard","_listenForClick","container","focusContainerSelector","children","_getFocusableElements","focusableFirstChild","focusableLastChild","length","document","addEventListener","removeEventListener","__listenForClick","event","tabKey","which","shiftKey","body","classList","add","remove","element","nodeList","querySelectorAll","Array","apply","focusables","map","push","_getElements","join","activeElement","containerElement","querySelector","containerActive","firstActive","lastActive","hasShift","noShift","releaseFocus","captureFocus","preventDefault","focus","ESCAPE","MODAL_CONTAINER","MODAL_ID","MODAL_BUTTON","NO_SCROLL","VISIBLE","CLOSE","TARGET","ARIA_HIDDEN","ARIA_MODAL","ROLE","TAB_INDEX","RESIZE","messages","MISSING_MODAL","Modal","_getModal","_handleModalClose","_handleEscapeKeyPress","_handleOverlayClick","modalContainerAttr","closeButtonAttr","modals","modalButtons","closeButtons","activeModalButton","activeModalId","activeModalOverlayAttr","activeModalOverlay","activeModalSelector","activeModal","activeModalCloseButtons","forEach","setAttribute","modal","parentNode","button","_renderModal","target","getAttribute","_handleScrollStop","scrollTop","_handleReturnFocus","_handleScrollRestore","removeAttribute","SPACE","ACCORDION_CONTAINER","ACCORDION_ROW","EXPANDED","CONTENT","TOGGLE_MULTIPLE","PARENT","ARIA_EXPANDED","ARIA_CONTROLS","MISSING_CONTENT","Accordion","_renderAccordionContent","_handleSpaceKeyPress","accordionButtons","accordionContentsAttr","accordionContents","activeContainer","activeButton","activeAccordionRowId","activeRowAttr","activeRow","activeContainerId","activeContainerAttr","activeContent","toggleExpandState","toggleContentState","toggleHiddenState","allContentAttr","_setupButton","content","contentRowAttr","_getAccordionRowAttr","id","contentRow","contentHiddenState","toggleContentHiddenState","buttonId","accordionRowAttr","accordionRow","shouldContentExpand","buttonContent","getElementById","style","maxHeight","scrollHeight","accordionContentHasAttr","hasAttribute","accordionButtonState","accordionContentState","_closeAllIfToggleable","_toggleSelectedAccordion","allRows","allContent","allButtons","_toggleAttributeInCollection","activeContentBlock","value","elements","attributeName","currentValue","newValue","Modals","_Modals","Accordions","_Accordion","_Utils","Undernet","start","enableFocusOutline","stop","disableFocusOutline","window"],"mappings":"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"}