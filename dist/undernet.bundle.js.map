{"version":3,"file":"undernet.bundle.js","sources":["../js/src/utils.js","../js/src/components/modal.js","../js/src/components/accordion.js","../js/src/components/dropdown.js","../js/src/undernet.js"],"sourcesContent":["\"use strict\"\n\nconst keyCodes = {\n  SHIFT: 16,\n  TAB: 9,\n  ARROW_UP: 38,\n  ARROW_DOWN: 40,\n}\n\nconst selectors = {\n  NOT_VISUALLY_HIDDEN: \":not(.is-visually-hidden)\",\n  FOCUSABLE_TAGS: [\"a\", \"button\", \"input\", \"object\", \"select\", \"textarea\", \"[tabindex]\"],\n  KEYBOARD_CLASS: \"using-keyboard\",\n}\n\nconst events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n}\n\n/**\n * Utility methods for DOM traversal and focus trapping.\n * @module Utils\n */\nexport default class Utils {\n  constructor() {\n    this._handleFocusTrapWithTab = this._handleFocusTrapWithTab.bind(this)\n    this._handleFocusTrapWithArrows = this._handleFocusTrapWithArrows.bind(this)\n    this._listenForKeyboard = this._listenForKeyboard.bind(this)\n    this._listenForClick = this._listenForClick.bind(this)\n\n    this.focusContainerSelector = \"\"\n    this.focusableChildren = []\n    this.focusableFirstChild = null\n    this.focusableLastChild = null\n\n    // Used for focus outline helper\n    this.listeningForKeydown = false\n\n    // Used for captureFocus() if options.useArrows is passed\n    this.trapFocusWithArrows = false\n  }\n\n  // public\n\n  /**\n   * Listens to the first and last elements matched from this._getFocusableElements()\n   * @param {String} container - The container's class, attribute, etc.\n   * @param {Object} options - Optional has hof options.\n   */\n  captureFocus(container, options) {\n    this.focusContainerSelector = container\n    this.focusableChildren = this._getFocusableElements(this.focusContainerSelector)\n    this.focusableFirstChild = this.focusableChildren[0]\n    this.focusableLastChild = this.focusableChildren[this.focusableChildren.length - 1]\n\n    if (options) {\n      if (options.useArrows) {\n        this.trapFocusWithArrows = options.useArrows || this.trapFocusWithArrows\n        document.addEventListener(events.KEYDOWN, this._handleFocusTrapWithArrows)\n      }\n    } else {\n      document.addEventListener(events.KEYDOWN, this._handleFocusTrapWithTab)\n    }\n  }\n\n  /**\n   * Stop trapping focus set in this.captureFocus()\n   */\n  releaseFocus() {\n    if (this.trapFocusWithArrows) {\n      document.removeEventListener(events.KEYDOWN, this._handleFocusTrapWithArrows)\n      this.trapFocusWithArrows = false\n    } else {\n      document.removeEventListener(events.KEYDOWN, this._handleFocusTrapWithTab)\n    }\n  }\n\n  /**\n   * Begin listening to _listenForKeyboard()\n   */\n  enableFocusOutline() {\n    document.addEventListener(events.KEYDOWN, this._listenForKeyboard)\n  }\n\n  /**\n   * Completely disable focus outline utility.\n   */\n  disableFocusOutline() {\n    if (this.listeningForKeydown) {\n      document.removeEventListener(events.KEYDOWN, this._listenForKeyboard)\n    } else {\n      document.removeEventListener(events.CLICK, this._listenForClick)\n    }\n  }\n\n  // private\n\n  /**\n   * When a key is pressed, detect if it's tab or shift keys and enable\n   * focus outlines on currently focused element(s). Then, remove keydown listener\n   * and add click listener on _listenForClick().\n   * @param {Object} event - Event (keypress).\n   */\n  _listenForKeyboard(event) {\n    const tabKey = event.which === keyCodes.TAB\n    const shiftKey = event.which === keyCodes.SHIFT || event.shiftKey\n    const arrowUp = event.which === keyCodes.ARROW_UP\n    const arrowDown = event.which === keyCodes.ARROW_DOWN\n\n    if (tabKey || shiftKey || arrowUp || arrowDown) {\n      document.body.classList.add(selectors.KEYBOARD_CLASS)\n      document.removeEventListener(events.KEYDOWN, this._listenForKeyboard)\n      document.addEventListener(events.CLICK, this._listenForClick)\n      this.listeningForKeydown = false\n    }\n  }\n\n  /**\n   * On click, remove selectors.KEYBOARD_CLASS and re-add keydown listener.\n   * @param {Object} event - Event (keypress).\n   */\n  _listenForClick(event) {\n    document.body.classList.remove(selectors.KEYBOARD_CLASS)\n    document.removeEventListener(events.CLICK, this._listenForClick)\n    document.addEventListener(events.KEYDOWN, this._listenForKeyboard)\n    this.listeningForKeydown = true\n  }\n\n  /**\n   * Because IE does not recognize NodeList.forEach(),\n   * we use a cross-browser solution for returning an array of DOM nodes every time.\n   * @param {String} element - A DOM node's class, attribute, etc., to search the document.\n   * @return {Array}\n   */\n  _getElements(element) {\n    const nodeList = document.querySelectorAll(element)\n    return Array.apply(null, nodeList)\n  }\n\n  /**\n   * Creates a string of element selector patterns using common elements.\n   * @param {String} container - The enclosing container's class, attribute, etc.\n   * @return {String}\n   */\n  _getFocusableElements(container) {\n    const focusables = selectors.FOCUSABLE_TAGS.map(element => {\n      return `${container} ${element}${selectors.NOT_VISUALLY_HIDDEN}`\n    })\n\n    return this._getElements(focusables.join(\", \"))\n  }\n\n  /**\n   * Handles focus on first or last child in a container, using tab and tab+shift keys.\n   * @param {Object} event - Event (keypress)\n   */\n  _handleFocusTrapWithTab(event) {\n    const containerElement = document.querySelector(this.focusContainerSelector)\n    const containerActive = document.activeElement === containerElement\n    const firstActive = document.activeElement === this.focusableFirstChild\n    const lastActive = document.activeElement === this.focusableLastChild\n    const tabKey = event.which === keyCodes.TAB\n    const shiftKey = event.which === keyCodes.SHIFT || event.shiftKey\n    const hasShift = shiftKey && tabKey\n    const noShift = !shiftKey && tabKey\n\n    if (shiftKey && tabKey && (firstActive || containerActive)) {\n      event.preventDefault()\n      this.focusableLastChild.focus()\n    } else if (!shiftKey && tabKey && lastActive) {\n      event.preventDefault()\n      this.focusableFirstChild.focus()\n    }\n  }\n\n  /**\n   * Handles focus on the first, last, next, or previous child in a container, using up and down arrow keys.\n   * @param {Object} event - Event (keypress)\n   */\n  _handleFocusTrapWithArrows(event) {\n    const firstActive = document.activeElement === this.focusableFirstChild\n    const lastActive = document.activeElement === this.focusableLastChild\n    const arrowUp = event.which === keyCodes.ARROW_UP\n    const arrowDown = event.which === keyCodes.ARROW_DOWN\n\n    if (arrowUp || arrowDown) {\n      event.preventDefault()\n\n      if (firstActive && arrowUp) {\n        this.focusableLastChild.focus()\n      } else if (lastActive && arrowDown) {\n        this.focusableFirstChild.focus()\n      } else if (arrowDown) {\n        this._focusNextChild()\n      } else if (arrowUp) {\n        this._focusLastChild()\n      }\n    }\n  }\n\n  /**\n   * Focus the next child in this.focusableChildren.\n   */\n  _focusNextChild() {\n    for (let i = 0; i < this.focusableChildren.length; i++) {\n      if (this.focusableChildren[i] === document.activeElement) {\n        this.focusableChildren[i + 1].focus()\n        break\n      }\n    }\n  }\n\n  /**\n   * Focus the previous child in this.focusableChildren.\n   */\n  _focusLastChild() {\n    for (let i = 0; i < this.focusableChildren.length; i++) {\n      if (this.focusableChildren[i] === document.activeElement) {\n        this.focusableChildren[i - 1].focus()\n        break\n      }\n    }\n  }\n}\n","\"use strict\"\n\nimport Utils from \"../utils\"\n\nconst keyCodes = {\n  ESCAPE: 27,\n}\n\nconst selectors = {\n  // unique\n  MODAL_CONTAINER: \"data-modal\",\n  MODAL_ID: \"data-modal-id\",\n  MODAL_BUTTON: \"data-modal-button\",\n  NO_SCROLL: \"no-scroll\",\n  // common\n  DATA_VISIBLE: \"data-visible\",\n  DATA_CLOSE: \"data-close\",\n  DATA_TARGET: \"data-target\",\n  DATA_PARENT: \"data-parent\",\n  // accessibility\n  ARIA_HIDDEN: \"aria-hidden\",\n  ARIA_MODAL: \"aria-modal\",\n  ROLE: \"role\",\n  TABINDEX: \"tabindex\",\n}\n\nconst events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n  RESIZE: \"resize\",\n}\n\nconst messages = {\n  MISSING_MODAL:\n    \"Your button is missing its corresponding modal. Check to make sure your modal is in the DOM, and that it has a [data-modal-id=*] attribute matchin its [data-modal-button] and [data-target] attributes. It's possible the modal script ran before the button appeared on the page!\",\n}\n\n/**\n * Modal component class.\n * @module Modal\n * @requires Utils\n */\nexport default class Modal extends Utils {\n  constructor() {\n    super()\n    // modal event methods\n    this._render = this._render.bind(this)\n    this._handleClose = this._handleClose.bind(this)\n    this._handleEscapeKeyPress = this._handleEscapeKeyPress.bind(this)\n    this._handleOverlayClick = this._handleOverlayClick.bind(this)\n\n    // all modals\n    this.modals = []\n    this.modalButtons = []\n\n    // active modal\n    this.activeModalButton = null\n    this.activeModalId = \"\"\n    this.activeModalOverlayAttr = \"\"\n    this.activeModalOverlay = {}\n    this.activeModalSelector = \"\"\n    this.activeModal = null\n    this.activeModalCloseButtons = []\n\n    // attribute helpers\n    this.modalContainerAttr = `[${selectors.MODAL_CONTAINER}]`\n    this.closeButtonAttr = `[${selectors.MODAL_CONTAINER}] [${selectors.DATA_CLOSE}]`\n  }\n\n  // public\n\n  /**\n   * Add accessible attributes to modal containers\n   * Begin listening to elements with [data-modal-button]\n   */\n  start() {\n    this.modals = this._getElements(this.modalContainerAttr)\n    this.modalButtons = this._getElements(`[${selectors.MODAL_BUTTON}]`)\n\n    this._getFocusableElements(this.modalContainerAttr).forEach(element => {\n      element.setAttribute(selectors.TABINDEX, \"-1\")\n    })\n\n    if (this.modals.length) {\n      this.modals.forEach(modal => {\n        const modalId = modal.getAttribute(selectors.DATA_PARENT)\n        const modalWrapper = document.querySelector(`[${selectors.MODAL_ID}='${modalId}']`)\n        modalWrapper.setAttribute(selectors.ARIA_HIDDEN, \"true\")\n        modalWrapper.setAttribute(selectors.DATA_VISIBLE, \"false\")\n        modal.setAttribute(selectors.ARIA_MODAL, \"true\")\n        modal.setAttribute(selectors.ROLE, \"dialog\")\n      })\n    }\n\n    if (this.modalButtons.length) {\n      this.modalButtons.forEach(button => {\n        button.addEventListener(events.CLICK, this._render)\n      })\n    }\n  }\n\n  /**\n   * Stop listening to modal buttons\n   */\n  stop() {\n    this.modalButtons.forEach(button => {\n      button.removeEventListener(events.CLICK, this._render)\n    })\n  }\n\n  // private\n\n  /**\n   * Find a button through event.target, then render the corresponding modal attribute via matching target id\n   * @param {Object} event - The event object\n   */\n  _render(event) {\n    event.preventDefault()\n\n    this.activeModalButton = event.target\n    this.activeModalId = this.activeModalButton.getAttribute(selectors.DATA_TARGET)\n    this.activeModalOverlayAttr = `[${selectors.MODAL_ID}=\"${this.activeModalId}\"]`\n    this.activeModalOverlay = document.querySelector(this.activeModalOverlayAttr)\n\n    if (!this.activeModalOverlay) {\n      throw messages.MISSING_MODAL\n      return\n    }\n\n    this.activeModalSelector = `${this.activeModalOverlayAttr} ${this.modalContainerAttr}`\n    this.activeModal = document.querySelector(this.activeModalSelector)\n    this.activeModalCloseButtons = this._getElements(\n      `${this.activeModalOverlayAttr} ${this.closeButtonAttr}`,\n    )\n\n    this._getFocusableElements(this.activeModalSelector).forEach(element => {\n      element.setAttribute(selectors.TABINDEX, \"0\")\n    })\n\n    this._handleScrollStop()\n    this.captureFocus(this.activeModalSelector)\n    this.activeModalOverlay.setAttribute(selectors.ARIA_HIDDEN, \"false\")\n    this.activeModal.setAttribute(selectors.TABINDEX, \"-1\")\n    this.activeModalOverlay.setAttribute(selectors.DATA_VISIBLE, \"true\")\n    this.activeModal.focus()\n\n    // offset slight scroll caused by this.activeModal.focus()\n    this.activeModalOverlay.scrollTop = 0\n\n    // begin listening to events\n    document.addEventListener(events.KEYDOWN, this._handleEscapeKeyPress)\n    document.addEventListener(events.CLICK, this._handleOverlayClick)\n    this.activeModalCloseButtons.forEach(button => {\n      button.addEventListener(events.CLICK, this._handleClose)\n    })\n  }\n\n  /**\n   * Turn off event listeners and reset focus to last selected DOM node (button)\n   * @param {Object} event - Event (keydown or click)\n   */\n  _handleClose(event) {\n    event.preventDefault()\n    this.activeModalOverlay.setAttribute(selectors.DATA_VISIBLE, \"false\")\n    this._handleReturnFocus()\n    this._handleScrollRestore()\n    this.releaseFocus()\n    this.activeModalOverlay.setAttribute(selectors.ARIA_HIDDEN, \"true\")\n    this.activeModal.removeAttribute(selectors.TABINDEX)\n\n    this._getFocusableElements(this.activeModalSelector).forEach(element => {\n      element.setAttribute(selectors.TABINDEX, \"-1\")\n    })\n\n    // stop listening to events\n    document.removeEventListener(events.KEYDOWN, this._handleEscapeKeyPress)\n    document.removeEventListener(events.CLICK, this._handleOverlayClick)\n    this.activeModalCloseButtons.forEach(button => {\n      button.removeEventListener(events.CLICK, this._handleClose)\n    })\n  }\n\n  /**\n   * Handles click event on the modal background to close it.\n   * @param {Object} event - Event (keydown)\n   */\n  _handleOverlayClick(event) {\n    if (event.target === this.activeModalOverlay) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Handles escape key event to close the current modal\n   * @param {Object} event - Event (keydown)\n   */\n  _handleEscapeKeyPress(event) {\n    if (event.which === keyCodes.ESCAPE) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Returns focus to the last focused element before the modal was called.\n   * @param {Object} button - The current modal's corresponding button.\n   */\n  _handleReturnFocus() {\n    this.activeModalButton.setAttribute(selectors.TABINDEX, \"-1\")\n    this.activeModalButton.focus()\n    this.activeModalButton.removeAttribute(selectors.TABINDEX)\n  }\n\n  /**\n   * Restores scroll behavior to <html> and <body>\n   */\n  _handleScrollRestore() {\n    document.body.classList.remove(selectors.NO_SCROLL)\n    document.querySelector(\"html\").classList.remove(selectors.NO_SCROLL)\n  }\n\n  /**\n   * Prevents scroll behavior on <html> and <body>\n   */\n  _handleScrollStop() {\n    document.body.classList.add(selectors.NO_SCROLL)\n    document.querySelector(\"html\").classList.add(selectors.NO_SCROLL)\n  }\n}\n","\"use strict\"\n\nimport Utils from \"../utils\"\n\nconst keyCodes = {\n  SPACE: 32,\n}\n\nconst selectors = {\n  // unique\n  ACCORDION_CONTAINER: \"data-accordion\",\n  ACCORDION_ROW: \"data-accordion-row\",\n  // common\n  DATA_EXPANDED: \"data-expanded\",\n  DATA_TARGET: \"data-target\",\n  DATA_CONTENT: \"data-content\",\n  DATA_TOGGLE_MULTIPLE: \"data-toggle-multiple\",\n  DATA_PARENT: \"data-parent\",\n  // accessibility\n  ARIA_EXPANDED: \"aria-expanded\",\n  ARIA_CONTROLS: \"aria-controls\",\n  ARIA_HIDDEN: \"aria-hidden\",\n  TABINDEX: \"tabindex\",\n}\n\nconst events = {\n  CLICK: \"click\",\n  KEYDOWN: \"keydown\",\n}\n\nconst messages = {\n  MISSING_CONTENT:\n    \"You have an accordion button that is missing its [data-content] attribute, and has a matching id to the button's [data-target] attribute's value.\",\n}\n\n/**\n * Accordion component class.\n * @module Accordion\n * @requires Utils\n */\nexport default class Accordion extends Utils {\n  constructor() {\n    super()\n    // accordion event methods\n    this._render = this._render.bind(this)\n    this._handleSpaceKeyPress = this._handleSpaceKeyPress.bind(this)\n\n    // all accordions\n    this.accordionButtons = []\n    this.accordionContentsAttr = \"\"\n    this.accordionContents = []\n\n    // active accordion\n    this.activeContainer = null\n    this.activeButton = null\n    this.activeAccordionRowId = \"\"\n    this.activeRowAttr = \"\"\n    this.activeRow = \"\"\n    this.activeContainerId = \"\"\n    this.activeContainerAttr = \"\"\n    this.activeContent = null\n    this.toggleExpandState = \"\"\n    this.toggleContentState = \"\"\n    this.toggleHiddenState = \"\"\n    this.allContentAttr = \"\"\n  }\n\n  // public\n\n  /**\n   * Add accessible attributes [data-accordion-button] and [data-accordion-content] elements\n   * Begin listening to [data-accordion-button] elements\n   */\n  start() {\n    this.accordionButtons = this._getElements(\n      `[${selectors.ACCORDION_CONTAINER}] [${selectors.DATA_TARGET}]`,\n    )\n\n    this.accordionContentsAttr = `[${selectors.ACCORDION_CONTAINER}] [${selectors.DATA_CONTENT}]`\n    this.accordionContents = this._getElements(this.accordionContentsAttr)\n\n    this._getFocusableElements(this.accordionContentsAttr).forEach(element => {\n      element.setAttribute(selectors.TABINDEX, \"-1\")\n    })\n\n    if (this.accordionButtons.length) {\n      this.accordionButtons.forEach(button => {\n        this._setupButton(button)\n        button.addEventListener(events.CLICK, this._render)\n        button.addEventListener(events.KEYDOWN, this._handleSpaceKeyPress)\n      })\n    }\n\n    if (this.accordionContents.length) {\n      this.accordionContents.forEach(content => {\n        const contentRowAttr = this._getAccordionRowAttr(content.id)\n        const contentRow = document.querySelector(contentRowAttr)\n        const contentHiddenState = contentRow.getAttribute(selectors.DATA_EXPANDED)\n        const toggleContentHiddenState = contentHiddenState === \"true\" ? \"false\" : \"true\"\n        content.setAttribute(selectors.ARIA_HIDDEN, toggleContentHiddenState)\n\n        if (toggleContentHiddenState === \"false\") {\n          this._getFocusableElements(`#${content.id}`).forEach(element => {\n            element.setAttribute(selectors.TABINDEX, \"0\")\n          })\n        }\n      })\n    }\n  }\n\n  /**\n   * Stop listening to accordion buttons.\n   */\n  stop() {\n    this.accordionButtons.forEach(button => {\n      button.removeEventListener(events.CLICK, this._render)\n      button.removeEventListener(events.KEYDOWN, this._handleSpaceKeyPress)\n    })\n  }\n\n  // private\n\n  _setupButton(button) {\n    const buttonId = button.getAttribute(selectors.DATA_TARGET)\n    const accordionRowAttr = this._getAccordionRowAttr(buttonId)\n    const accordionRow = document.querySelector(accordionRowAttr)\n    const shouldContentExpand = accordionRow.getAttribute(selectors.DATA_EXPANDED)\n    const buttonContent = document.getElementById(buttonId)\n\n    button.setAttribute(selectors.ARIA_CONTROLS, buttonId)\n\n    if (shouldContentExpand === \"true\") {\n      buttonContent.style.maxHeight = `${buttonContent.scrollHeight}px`\n      button.setAttribute(selectors.ARIA_EXPANDED, \"true\")\n    } else {\n      button.setAttribute(selectors.ARIA_EXPANDED, \"false\")\n    }\n  }\n\n  /**\n   * Return a selector that targets `selectors.ACCORDION_ROW` with value of the id.\n   * @param {String} id - An id value associated with a given selectors.DATA_TARGET\n   * @return {String}\n   */\n  _getAccordionRowAttr(id) {\n    return `[${selectors.ACCORDION_ROW}='${id}']`\n  }\n\n  /**\n   * Open accordion content associated with a [data-accordion-button] element.\n   * @param {Object} event - The event object.\n   */\n  _render(event) {\n    event.preventDefault()\n\n    this.activeButton = event.target\n    this.activeAccordionRowId = this.activeButton.getAttribute(selectors.DATA_TARGET)\n\n    this.activeRowAttr = this._getAccordionRowAttr(this.activeAccordionRowId)\n    this.activeRow = document.querySelector(this.activeRowAttr)\n    this.activeContainerId = this.activeButton.getAttribute(selectors.DATA_PARENT)\n    this.activeContainerAttr = `[${selectors.ACCORDION_CONTAINER}='${this.activeContainerId}']`\n    this.activeContainer = document.querySelector(this.activeContainerAttr)\n\n    this.activeContent = document.getElementById(this.activeAccordionRowId)\n\n    const accordionContentHasAttr = this.activeContent.hasAttribute(selectors.DATA_CONTENT)\n    if (!accordionContentHasAttr) {\n      throw messages.MISSING_CONTENT\n      return\n    }\n\n    const accordionButtonState = this.activeRow.getAttribute(selectors.DATA_EXPANDED)\n    const accordionContentState = this.activeContent.getAttribute(selectors.DATA_CONTENT)\n\n    this.toggleExpandState = accordionButtonState === \"true\" ? \"false\" : \"true\"\n    this.toggleContentState = accordionContentState === \"visible\" ? \"hidden\" : \"visible\"\n    this.toggleHiddenState = this.toggleExpandState === \"false\" ? \"true\" : \"false\"\n\n    this._closeAllIfToggleable()\n    this._toggleSelectedAccordion()\n  }\n\n  /**\n   * If a keypress is the spacebar on a button, open its correlated content.\n   * @param {Object} event - The event object.\n   */\n  _handleSpaceKeyPress(event) {\n    if (event.which === keyCodes.SPACE) this._render(event)\n  }\n\n  /**\n   * If toggling multiple rows at once isn't enabled, close all rows except the selected one.\n   * This ensures the selected one can be closed if it's already open.\n   */\n  _closeAllIfToggleable() {\n    if (this.activeContainer.hasAttribute(selectors.DATA_TOGGLE_MULTIPLE)) return\n\n    const allContentAttr = `${this.activeContainerAttr} [${selectors.DATA_CONTENT}]`\n    const allRows = this._getElements(`${this.activeContainerAttr} [${selectors.DATA_EXPANDED}]`)\n    const allContent = this._getElements(allContentAttr)\n    const allButtons = this._getElements(`${this.activeContainerAttr} [${selectors.DATA_TARGET}]`)\n\n    allContent.forEach(content => {\n      if (!(content === this.activeContent)) content.style.maxHeight = null\n    })\n\n    this._getFocusableElements(allContentAttr).forEach(element => {\n      element.setAttribute(selectors.TABINDEX, \"-1\")\n    })\n\n    this._toggleAttributeInCollection(allRows, selectors.DATA_EXPANDED, \"true\", \"false\")\n    this._toggleAttributeInCollection(allButtons, selectors.ARIA_EXPANDED, \"true\", \"false\")\n    this._toggleAttributeInCollection(allContent, selectors.ARIA_HIDDEN, \"false\", \"true\")\n    this._toggleAttributeInCollection(allContent, selectors.DATA_CONTENT, \"visible\", \"hidden\")\n  }\n\n  /**\n   * Toggle the currently selected accordion button.\n   */\n  _toggleSelectedAccordion() {\n    this.activeRow.setAttribute(selectors.DATA_EXPANDED, this.toggleExpandState)\n    this.activeContent.setAttribute(selectors.DATA_CONTENT, this.toggleContentState)\n    this.activeButton.setAttribute(selectors.ARIA_EXPANDED, this.toggleExpandState)\n    this.activeContent.setAttribute(selectors.ARIA_HIDDEN, this.toggleHiddenState)\n\n    const activeContentBlock = `#${this.activeAccordionRowId}`\n    this._getFocusableElements(activeContentBlock).forEach(element => {\n      const value = this.toggleExpandState === \"true\" ? \"0\" : \"-1\"\n      element.setAttribute(selectors.TABINDEX, value)\n    })\n\n    if (this.activeContent.style.maxHeight) {\n      this.activeContent.style.maxHeight = null\n    } else {\n      this.activeContent.style.maxHeight = `${this.activeContent.scrollHeight}px`\n    }\n  }\n\n  /**\n   * Toggles a single attribute of a series of elements within a parent.\n   */\n  _toggleAttributeInCollection(elements, attributeName, currentValue, newValue) {\n    elements.forEach(element => {\n      if (element.hasAttribute(attributeName, currentValue)) {\n        element.setAttribute(attributeName, newValue)\n      }\n    })\n  }\n}\n","\"use strict\"\n\nimport Utils from \"../utils\"\n\nconst keyCodes = {\n  TAB: 9,\n  SHIFT: 16,\n  ESCAPE: 27,\n  ARROW_UP: 38,\n  ARROW_DOWN: 40,\n}\n\nconst selectors = {\n  // unique\n  DATA_DROPDOWN: \"data-dropdown\",\n  // common\n  DATA_TARGET: \"data-target\",\n  DATA_PARENT: \"data-parent\",\n  DATA_VISIBLE: \"data-visible\",\n  // accessibility\n  TABINDEX: \"tabindex\",\n  ARIA_HASPOPUP: \"aria-haspopup\",\n  ARIA_CONTROLS: \"aria-controls\",\n  ARIA_LABELLEDBY: \"aria-labelledby\",\n  ARIA_EXPANDED: \"aria-expanded\",\n  ROLE: \"role\",\n}\n\nconst events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n}\n\nconst messages = {\n  MISSING_DROPDOWN: \"You have a dropdown button missing its corresponding menu.\",\n}\n\n/**\n * Dropdown component class.\n * @module Dropdown\n * @requires Utils\n */\nexport default class Dropdown extends Utils {\n  constructor() {\n    super()\n    //  dropdown event methods\n    this._render = this._render.bind(this)\n    this._renderWithKeys = this._renderWithKeys.bind(this)\n    this._handleClose = this._handleClose.bind(this)\n    this._handleEscapeKeyPress = this._handleEscapeKeyPress.bind(this)\n    this._handleOffMenuClick = this._handleOffMenuClick.bind(this)\n    this._handleFirstTabClose = this._handleFirstTabClose.bind(this)\n    this._handleLastTabClose = this._handleLastTabClose.bind(this)\n\n    // active dropdown\n    this.activeDropdownButton = null\n    this.activeDropdown = null\n    this.activeDropdownMenu = null\n    this.activeDropdownLinks = []\n    this.allowFocusReturn = true\n    this.activeDropdownId = \"\"\n    this.activeDropdownAttr = \"\"\n    this.activeDropdownMenuId = \"\"\n\n    // all dropdowns\n    this.dropdownButtons = []\n    this.dropdowns = []\n\n    // dropdown element selectors\n    this.dropdownTargetAttr = `[${selectors.DATA_TARGET}]`\n    this.dropdownButtonAttr = `[${selectors.DATA_DROPDOWN}] > ${this.dropdownTargetAttr}`\n  }\n\n  // public\n\n  /**\n   * Find and set up dropdown buttons and menus.\n   * Begin listening to dropdowns for events.\n   */\n  start() {\n    this.dropdowns = this._getElements(`[${selectors.DATA_DROPDOWN}]`)\n    this.dropdownButtons = this._getElements(this.dropdownButtonAttr)\n\n    if (this.dropdowns.length) {\n      this.dropdowns.forEach(dropdown => this._setupDropdown(dropdown))\n    }\n\n    this.dropdownButtons.forEach(button => {\n      button.addEventListener(events.CLICK, this._render)\n      button.addEventListener(events.KEYDOWN, this._renderWithKeys)\n    })\n  }\n\n  /**\n   * Stop listening for dropdown events.\n   */\n  stop() {\n    this.dropdownButtons.forEach(button => {\n      button.removeEventListener(events.CLICK, this._render)\n      button.removeEventListener(events.KEYDOWN, this._renderWithKeys)\n    })\n  }\n\n  // private\n\n  /**\n   * Find a button through event.target, then render the corresponding modal attribute via matching target id\n   * @param {Object} event - The event object\n   * @param {Number} key - The key code that called _render()\n   */\n  _render(event, key) {\n    if (!key) event.preventDefault()\n    event.stopPropagation()\n\n    if (this.activeDropdownButton) {\n      this.allowFocusReturn = false\n      this._handleClose(event)\n      this.allowFocusReturn = true\n    }\n\n    // dropdown button / trigger\n    this.activeDropdownButton = event.target\n    this.activeDropdownId = this.activeDropdownButton.getAttribute(selectors.DATA_PARENT)\n\n    if (!this.activeDropdownId) {\n      throw messages.MISSING_DROPDOWN\n      return\n    }\n\n    this.activeDropdownButton.setAttribute(selectors.ARIA_EXPANDED, \"true\")\n\n    // dropdown container\n    this.activeDropdownAttr = `[${selectors.DATA_DROPDOWN}=\"${this.activeDropdownId}\"]`\n    this.activeDropdown = document.querySelector(this.activeDropdownAttr)\n\n    // dropdown menu\n    this.activeDropdownMenuId = this.activeDropdownButton.getAttribute(selectors.DATA_TARGET)\n    this.activeDropdownMenu = document.getElementById(this.activeDropdownMenuId)\n\n    // dropdown button\n    this.activeDropdownButton.setAttribute(selectors.ARIA_EXPANDED, \"true\")\n    this.activeDropdown.setAttribute(selectors.DATA_VISIBLE, \"true\")\n\n    // reset button event listener to close the menu, instead of open it\n    this.activeDropdownButton.removeEventListener(events.CLICK, this._render)\n    this.activeDropdownButton.addEventListener(events.CLICK, this._handleClose)\n\n    document.addEventListener(events.KEYDOWN, this._handleEscapeKeyPress)\n    document.addEventListener(events.CLICK, this._handleOffMenuClick)\n\n    this.activeDropdownLinks = this._getElements(`${this.activeDropdownAttr} > ul > li > a`)\n    this.firstDropdownLink = this.activeDropdownLinks[0]\n    this.lastDropdownLink = this.activeDropdownLinks[this.activeDropdownLinks.length - 1]\n\n    this.firstDropdownLink.addEventListener(events.KEYDOWN, this._handleFirstTabClose)\n    this.lastDropdownLink.addEventListener(events.KEYDOWN, this._handleLastTabClose)\n\n    if (key && key === keyCodes.ARROW_UP) {\n      this.lastDropdownLink.focus()\n    } else {\n      this.firstDropdownLink.focus()\n    }\n\n    this.activeDropdownLinks.forEach(link => {\n      link.setAttribute(selectors.TABINDEX, \"0\")\n      link.addEventListener(events.CLICK, this._handleClose)\n    })\n\n    this.captureFocus(`${this.activeDropdownAttr} > ul`, { useArrows: true })\n  }\n\n  /**\n   * Closes the dropdown if user uses shift and tab keys on the first dropdown element.\n   * @param {Object} event - The event object\n   */\n  _handleFirstTabClose(event) {\n    const shiftKey = event.which === keyCodes.SHIFT || event.shiftKey\n    const tabKey = event.which === keyCodes.TAB\n\n    if (shiftKey && tabKey) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Closes the dropdown if user uses tab key on the last dropdown element.\n   * @param {Object} event - The event object\n   */\n  _handleLastTabClose(event) {\n    const shiftKey = event.which === keyCodes.SHIFT || event.shiftKey\n    const tabKey = event.which === keyCodes.TAB\n\n    if (tabKey && !shiftKey) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Renders dropdown if the user uses arrow up or down.\n   * @param {Object} event - The event object\n   */\n  _renderWithKeys(event) {\n    if (event.which === keyCodes.ARROW_UP || event.which === keyCodes.ARROW_DOWN) {\n      this._render(event, event.which)\n    }\n  }\n\n  /**\n   * Closes currently open dropdown.\n   * @param {Object} event - The event object\n   */\n  _handleClose(event) {\n    event.preventDefault()\n\n    this.releaseFocus()\n\n    this.activeDropdownButton.setAttribute(selectors.ARIA_EXPANDED, \"false\")\n    this.activeDropdown.setAttribute(selectors.DATA_VISIBLE, \"false\")\n\n    this.activeDropdownLinks.forEach(link => {\n      link.setAttribute(selectors.TABINDEX, \"-1\")\n      link.removeEventListener(events.CLICK, this._handleClose)\n    })\n\n    this.activeDropdownButton.removeEventListener(events.CLICK, this._handleClose)\n    this.activeDropdownButton.addEventListener(events.CLICK, this._render)\n\n    document.removeEventListener(events.KEYDOWN, this._handleEscapeKeyPress)\n    document.removeEventListener(events.CLICK, this._handleOffMenuClick)\n\n    if (this.allowFocusReturn) {\n      this._handleReturnFocus()\n    }\n  }\n\n  /**\n   * Use escape key to close dropdown.\n   * @param {Object} event - The event object\n   */\n  _handleEscapeKeyPress(event) {\n    if (event.which === keyCodes.ESCAPE) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Closes dropdown\n   * @param {Object} event - The event object\n   */\n  _handleOffMenuClick(event) {\n    if (event.target !== this.activeDropdownButton && event.target !== this.activeDropdownMenu) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Puts focus on a the active dropdown button.\n   */\n  _handleReturnFocus() {\n    this.activeDropdownButton.setAttribute(selectors.TAB_INDEX, \"-1\")\n    this.activeDropdownButton.focus()\n    this.activeDropdownButton.removeAttribute(selectors.TAB_INDEX)\n  }\n\n  /**\n   * Add starting attributes to a dropdown.\n   * @param {Element} dropdown - A dropdown element.\n   */\n  _setupDropdown(dropdown) {\n    const dropdownId = dropdown.getAttribute(selectors.DATA_DROPDOWN)\n    const dropdownIdAttr = `[${selectors.DATA_DROPDOWN}=\"${dropdownId}\"]`\n    const dropdownMenuItemsAttr = `${dropdownIdAttr} > ul > li`\n\n    const dropdownMenu = document.querySelector(`${dropdownIdAttr} > ul`)\n    const dropdownButton = document.querySelector(`${dropdownIdAttr} > ${this.dropdownTargetAttr}`)\n\n    dropdownButton.setAttribute(selectors.ARIA_CONTROLS, dropdownMenu.id)\n    dropdownButton.setAttribute(selectors.ARIA_HASPOPUP, \"true\")\n    dropdownButton.setAttribute(selectors.ARIA_EXPANDED, \"false\")\n    dropdownMenu.setAttribute(selectors.ARIA_LABELLEDBY, dropdownButton.id)\n\n    const dropdownMenuItems = this._getElements(dropdownMenuItemsAttr)\n    dropdownMenuItems.forEach(item => item.setAttribute(selectors.ROLE, \"none\"))\n\n    const dropdownMenuItemLinks = this._getElements(\n      `${dropdownMenuItemsAttr} > a, ${dropdownMenuItemsAttr} > button`,\n    )\n    dropdownMenuItemLinks.forEach(link => {\n      link.setAttribute(selectors.ROLE, \"menuitem\")\n      link.setAttribute(selectors.TABINDEX, \"-1\")\n    })\n  }\n}\n","\"use strict\"\n\nimport _Modals from \"./components/modal\"\nimport _Accordion from \"./components/accordion\"\nimport _Dropdown from \"./components/dropdown\"\nimport _Utils from \"./utils\"\n\nconst Modals = new _Modals()\nconst Accordions = new _Accordion()\nconst Dropdowns = new _Dropdown()\nconst Utils = new _Utils()\n\nconst Undernet = {\n  // Components\n  Modals,\n  Accordions,\n  Dropdowns,\n\n  // Utils\n  Utils,\n}\n\nUndernet.start = () => {\n  // Components\n  Undernet.Modals.start()\n  Undernet.Accordions.start()\n  Undernet.Dropdowns.start()\n\n  // Utils\n  Undernet.Utils.enableFocusOutline()\n}\n\nUndernet.stop = () => {\n  // Components\n  Undernet.Modals.stop()\n  Undernet.Accordions.stop()\n  Undernet.Dropdowns.stop()\n\n  // Utils\n  Undernet.Utils.disableFocusOutline()\n}\n\nwindow.Undernet = Undernet\nexport default Undernet\n"],"names":["keyCodes","SHIFT","TAB","ARROW_UP","ARROW_DOWN","selectors","NOT_VISUALLY_HIDDEN","FOCUSABLE_TAGS","KEYBOARD_CLASS","events","KEYDOWN","CLICK","Utils","_handleFocusTrapWithTab","bind","_handleFocusTrapWithArrows","_listenForKeyboard","_listenForClick","focusContainerSelector","focusableChildren","focusableFirstChild","focusableLastChild","listeningForKeydown","trapFocusWithArrows","container","options","_getFocusableElements","length","useArrows","document","addEventListener","removeEventListener","event","tabKey","which","shiftKey","arrowUp","arrowDown","body","classList","add","remove","element","nodeList","querySelectorAll","Array","apply","focusables","map","_getElements","join","containerElement","querySelector","containerActive","activeElement","firstActive","lastActive","preventDefault","focus","_focusNextChild","_focusLastChild","i","ESCAPE","MODAL_CONTAINER","MODAL_ID","MODAL_BUTTON","NO_SCROLL","DATA_VISIBLE","DATA_CLOSE","DATA_TARGET","DATA_PARENT","ARIA_HIDDEN","ARIA_MODAL","ROLE","TABINDEX","RESIZE","messages","MISSING_MODAL","Modal","_render","_handleClose","_handleEscapeKeyPress","_handleOverlayClick","modals","modalButtons","activeModalButton","activeModalId","activeModalOverlayAttr","activeModalOverlay","activeModalSelector","activeModal","activeModalCloseButtons","modalContainerAttr","closeButtonAttr","forEach","setAttribute","modal","modalId","getAttribute","modalWrapper","button","target","_handleScrollStop","captureFocus","scrollTop","_handleReturnFocus","_handleScrollRestore","releaseFocus","removeAttribute","SPACE","ACCORDION_CONTAINER","ACCORDION_ROW","DATA_EXPANDED","DATA_CONTENT","DATA_TOGGLE_MULTIPLE","ARIA_EXPANDED","ARIA_CONTROLS","MISSING_CONTENT","Accordion","_handleSpaceKeyPress","accordionButtons","accordionContentsAttr","accordionContents","activeContainer","activeButton","activeAccordionRowId","activeRowAttr","activeRow","activeContainerId","activeContainerAttr","activeContent","toggleExpandState","toggleContentState","toggleHiddenState","allContentAttr","_setupButton","content","contentRowAttr","_getAccordionRowAttr","id","contentRow","contentHiddenState","toggleContentHiddenState","buttonId","accordionRowAttr","accordionRow","shouldContentExpand","buttonContent","getElementById","style","maxHeight","scrollHeight","accordionContentHasAttr","hasAttribute","accordionButtonState","accordionContentState","_closeAllIfToggleable","_toggleSelectedAccordion","allRows","allContent","allButtons","_toggleAttributeInCollection","activeContentBlock","value","elements","attributeName","currentValue","newValue","DATA_DROPDOWN","ARIA_HASPOPUP","ARIA_LABELLEDBY","MISSING_DROPDOWN","Dropdown","_renderWithKeys","_handleOffMenuClick","_handleFirstTabClose","_handleLastTabClose","activeDropdownButton","activeDropdown","activeDropdownMenu","activeDropdownLinks","allowFocusReturn","activeDropdownId","activeDropdownAttr","activeDropdownMenuId","dropdownButtons","dropdowns","dropdownTargetAttr","dropdownButtonAttr","dropdown","_setupDropdown","key","stopPropagation","firstDropdownLink","lastDropdownLink","link","TAB_INDEX","dropdownId","dropdownIdAttr","dropdownMenuItemsAttr","dropdownMenu","dropdownButton","dropdownMenuItems","item","dropdownMenuItemLinks","Modals","_Modals","Accordions","_Accordion","Dropdowns","_Dropdown","_Utils","Undernet","start","enableFocusOutline","stop","disableFocusOutline","window"],"mappings":"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"}