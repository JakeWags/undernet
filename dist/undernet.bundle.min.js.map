{"version":3,"file":"undernet.bundle.min.js","sources":["../js/src/utils.js","../js/src/components/modal.js","../js/src/components/accordion.js","../js/src/undernet.js"],"sourcesContent":["\"use strict\"\n\nconst keyCodes = {\n  SHIFT: 16,\n  TAB: 9,\n}\n\nconst selectors = {\n  FOCUSABLE_SELECTOR: \":not(.is-visually-hidden)\",\n  FOCUSABLE_TAGS: [\"a\", \"button\", \"input\", \"object\", \"select\", \"textarea\", \"[tabindex]\"],\n  USING_KEYBOARD: \"using-keyboard\",\n}\n\nconst events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n}\n\n/**\n * Utility methods for DOM traversal and focus trapping.\n * @module Utils\n */\nexport default class Utils {\n  constructor() {\n    this.handleFocusTrap = this.handleFocusTrap.bind(this)\n    this.listenForKeyboard = this.listenForKeyboard.bind(this)\n    this.listenForClick = this.listenForClick.bind(this)\n  }\n\n  /**\n   * Because IE does not recognize NodeList.forEach(),\n   * we use a cross-browser solution for returning an array of DOM nodes every time.\n   * @param {String} element - A DOM node's class, attribute, etc., to search the document.\n   * @return {Array}\n   */\n  getElements(element) {\n    const nodeList = document.querySelectorAll(element)\n    return Array.apply(null, nodeList)\n  }\n\n  /**\n   * Begin listening to listenForKeyboard()\n   */\n  enableFocusOutline() {\n    document.addEventListener(events.KEYDOWN, this.listenForKeyboard)\n  }\n\n  /**\n   * When a key is pressed, detect if it's tab or shift keys and enable\n   * focus outlines on currently focused element(s). Then, remove keydown listener\n   * and add click listener on listenForClick().\n   * @param {Object} event - Event (keypress).\n   */\n  listenForKeyboard(event) {\n    const tabKey = event.which === keyCodes.TAB\n    const shiftKey = event.which === keyCodes.SHIFT || event.shiftKey\n\n    if (tabKey || shiftKey) {\n      document.body.classList.add(selectors.USING_KEYBOARD)\n      document.removeEventListener(events.KEYDOWN, this.listenForKeyboard)\n      document.addEventListener(events.CLICK, this.listenForClick)\n    }\n  }\n\n  /**\n   * On click, remove selectors.USING_KEYBOARD and re-add keydown listener.\n   * @param {Object} event - Event (keypress).\n   */\n  listenForClick(event) {\n    document.body.classList.remove(selectors.USING_KEYBOARD)\n    document.removeEventListener(events.CLICK, this.listenForClick)\n    document.addEventListener(events.KEYDOWN, this.listenForKeyboard)\n  }\n\n  /**\n   * Completely disable focus outline utility.\n   */\n  disableFocusOutline() {\n    document.removeEventListener(events.KEYDOWN, this.listenForKeyboard)\n    document.removeEventListener(events.CLICK, this.listenForKeyboard)\n  }\n\n  /**\n   * Creates a string of element selector patterns using common elements.\n   * @param {String} container - The enclosing container's class, attribute, etc.\n   * @return {String}\n   */\n  getFocusableElements(container) {\n    let focusables = []\n    selectors.FOCUSABLE_TAGS.map(element =>\n      focusables.push(`${container} ${element}${selectors.FOCUSABLE_SELECTOR}`),\n    )\n    return this.getElements(focusables.join(\", \"))\n  }\n\n  /**\n   * Listens to the first and last elements matched from this.getFocusableElements()\n   * @param {String} container - The container's class, attribute, etc.\n   */\n  captureFocus(container) {\n    this.focusContainer = container\n    const children = this.getFocusableElements(this.focusContainer)\n    this.focusableFirstChild = children[0]\n    this.focusableLastChild = children[children.length - 1]\n\n    document.addEventListener(events.KEYDOWN, this.handleFocusTrap)\n  }\n\n  /**\n   * Handles focus on first or last child in a container.\n   * @param {Object} event - Event (keypress)\n   */\n  handleFocusTrap(event) {\n    const active = document.activeElement\n    const containerElement = document.querySelector(this.focusContainer)\n    const containerActive = active === containerElement\n    const firstActive = active === this.focusableFirstChild\n    const lastActive = active === this.focusableLastChild\n    const tabKey = event.which === keyCodes.TAB\n    const shiftKey = event.which === keyCodes.SHIFT || event.shiftKey\n    const hasShift = shiftKey && tabKey\n    const noShift = !shiftKey && tabKey\n\n    // Just in case the first or last child have changed -\n    // recapture focus and continue trapping.\n    this.releaseFocus()\n    this.captureFocus(this.focusContainer)\n\n    if (hasShift && (firstActive || containerActive)) {\n      event.preventDefault()\n      this.focusableLastChild.focus()\n    } else if (noShift && lastActive) {\n      event.preventDefault()\n      this.focusableFirstChild.focus()\n    }\n  }\n\n  /**\n   * Stop trapping focus set in this.captureFocus()\n   */\n  releaseFocus() {\n    document.removeEventListener(events.KEYDOWN, this.handleFocusTrap)\n  }\n}\n","\"use strict\"\n\nimport Utils from \"../utils\"\n\nconst keyCodes = {\n  ESCAPE: 27,\n}\n\nconst selectors = {\n  // unique\n  MODAL_CONTAINER: \"data-modal\",\n  MODAL_ID: \"data-modal-id\",\n  MODAL_BUTTON: \"data-modal-button\",\n  NO_SCROLL: \"no-scroll\",\n  // common\n  VISIBLE: \"data-visible\",\n  CLOSE: \"data-close\",\n  TARGET: \"data-target\",\n  // accessibility\n  ARIA_HIDDEN: \"aria-hidden\",\n  ARIA_MODAL: \"aria-modal\",\n  ROLE: \"role\",\n  TAB_INDEX: \"tabindex\",\n}\n\nconst events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n  RESIZE: \"resize\",\n}\n\nconst messages = {\n  MISSING_MODAL:\n    \"Your button is missing its corresponding modal. Check to make sure your modal is in the DOM, and that it has a [data-modal-id=*] attribute matchin its [data-modal-button] and [data-target] attributes. It's possible the modal script ran before the button appeared on the page!\",\n}\n\n/**\n * Modal component class.\n * @module Modal\n * @requires Utils\n */\nexport default class Modal extends Utils {\n  constructor() {\n    super()\n    this.modalContainerAttr = `[${selectors.MODAL_CONTAINER}]`\n    this.closeButtonAttr = `[${selectors.MODAL_CONTAINER}] [${selectors.CLOSE}]`\n    this.modals = null\n    this.modalButtons = null\n    this.closeButtons = null\n    this.bodyTag = document.body\n    this.htmlTag = document.querySelector(\"html\")\n\n    // bind events to class\n    this.getModal = this.getModal.bind(this)\n    this.handleModalClose = this.handleModalClose.bind(this)\n    this.handleEscapeKeyPress = this.handleEscapeKeyPress.bind(this)\n    this.handleOverlayClick = this.handleOverlayClick.bind(this)\n  }\n\n  /**\n   * Add accessible attributes to modal containers\n   * Begin listening to elements with [data-modal-button]\n   */\n  start() {\n    this.modals = this.getElements(this.modalContainerAttr)\n    this.modalButtons = this.getElements(`[${selectors.MODAL_BUTTON}]`)\n    this.closeButtons = this.getElements(this.closeButtonAttr)\n\n    this.getFocusableElements(this.modalContainerAttr).forEach(element => {\n      element.setAttribute(selectors.TAB_INDEX, \"-1\")\n    })\n\n    if (this.modals.length) {\n      this.modals.forEach(modal => {\n        modal.setAttribute(selectors.ARIA_MODAL, \"true\")\n        modal.parentNode.setAttribute(selectors.ARIA_HIDDEN, \"true\")\n        modal.parentNode.setAttribute(selectors.VISIBLE, \"false\")\n        modal.setAttribute(selectors.ROLE, \"dialog\")\n      })\n    }\n\n    if (this.modalButtons.length) {\n      this.modalButtons.forEach(button => {\n        button.addEventListener(events.CLICK, this.getModal)\n      })\n    }\n  }\n\n  /**\n   * Stop listening to modal buttons\n   */\n  stop() {\n    this.modalButtons.forEach(button => {\n      button.removeEventListener(events.CLICK, this.getModal)\n    })\n  }\n\n  /**\n   * Locate a button's corresponding modal container.\n   * @param {Object} event - The event object\n   */\n  getModal(event) {\n    event.preventDefault()\n    this.renderModal(event)\n  }\n\n  /**\n   * Find a button through event.target, then render the corresponding modal attribute via matching target id\n   * @param {Object} event - The event object\n   */\n  renderModal(event) {\n    this.modalButton = event.target\n    this.activeModalId = this.modalButton.getAttribute(selectors.TARGET)\n    this.activeModalOverlayAttr = `[${selectors.MODAL_ID}='${this.activeModalId}']`\n    this.activeModalOverlay = document.querySelector(this.activeModalOverlayAttr)\n\n    if (!this.activeModalOverlay) {\n      throw messages.MISSING_MODAL\n      return\n    }\n\n    this.activeModalSelector = `${this.activeModalOverlayAttr} ${this.modalContainerAttr}`\n    this.activeModal = document.querySelector(this.activeModalSelector)\n    this.modalCloseButtons = this.getElements(\n      `${this.activeModalOverlayAttr} ${this.closeButtonAttr}`,\n    )\n\n    this.getFocusableElements(this.activeModalSelector).forEach(element => {\n      element.setAttribute(selectors.TAB_INDEX, \"0\")\n    })\n\n    this.handleScrollStop()\n    this.captureFocus(this.activeModalSelector)\n    this.activeModalOverlay.setAttribute(selectors.ARIA_HIDDEN, \"false\")\n    this.activeModal.setAttribute(\"tabindex\", \"-1\")\n    this.activeModalOverlay.setAttribute(selectors.VISIBLE, \"true\")\n    this.activeModal.focus()\n\n    // offset slight scroll caused by this.activeModal.focus()\n    this.activeModalOverlay.scrollTop = 0\n\n    // begin listening to events\n    document.addEventListener(events.KEYDOWN, this.handleEscapeKeyPress)\n    document.addEventListener(events.CLICK, this.handleOverlayClick)\n    this.modalCloseButtons.forEach(button => {\n      button.addEventListener(events.CLICK, this.handleModalClose)\n    })\n  }\n\n  /**\n   * Turn off event listeners and reset focus to last selected DOM node (button)\n   * @param {Object} event - Event (keydown or click)\n   */\n  handleModalClose(event) {\n    event.preventDefault()\n    this.activeModalOverlay.setAttribute(selectors.VISIBLE, \"false\")\n    this.handleReturnFocus()\n    this.handleScrollRestore()\n    this.releaseFocus()\n    this.activeModalOverlay.setAttribute(selectors.ARIA_HIDDEN, \"true\")\n    this.activeModal.removeAttribute(\"tabindex\")\n\n    this.getFocusableElements(this.activeModalSelector).forEach(element => {\n      element.setAttribute(selectors.TAB_INDEX, \"-1\")\n    })\n\n    // stop listening to events\n    document.removeEventListener(events.KEYDOWN, this.handleEscapeKeyPress)\n    document.removeEventListener(events.CLICK, this.handleOverlayClick)\n    this.modalCloseButtons.forEach(button => {\n      button.removeEventListener(events.CLICK, this.handleModalClose)\n    })\n  }\n\n  /**\n   * Handles click event on the modal background to close it.\n   * @param {Object} event - Event (keydown)\n   */\n  handleOverlayClick(event) {\n    if (event.target !== this.activeModalOverlay) return\n    this.handleModalClose(event)\n  }\n\n  /**\n   * Handles escape key event to close the current modal\n   * @param {Object} event - Event (keydown)\n   */\n  handleEscapeKeyPress(event) {\n    const escapeKey = event.which === keyCodes.ESCAPE\n    if (escapeKey) {\n      this.handleModalClose(event)\n    }\n  }\n\n  /**\n   * Returns focus to the last focused element before the modal was called.\n   * @param {Object} button - The current modal's corresponding button.\n   */\n  handleReturnFocus() {\n    this.modalButton.setAttribute(\"tabindex\", \"-1\")\n    this.modalButton.focus()\n    this.modalButton.removeAttribute(\"tabindex\")\n  }\n\n  /**\n   * Restores scroll behavior to <html> and <body>\n   */\n  handleScrollRestore() {\n    this.bodyTag.classList.remove(selectors.NO_SCROLL)\n    this.htmlTag.classList.remove(selectors.NO_SCROLL)\n  }\n\n  /**\n   * Prevents scroll behavior on <html> and <body>\n   */\n  handleScrollStop() {\n    this.bodyTag.classList.add(selectors.NO_SCROLL)\n    this.htmlTag.classList.add(selectors.NO_SCROLL)\n  }\n}\n","\"use strict\"\n\nimport Utils from \"../utils\"\n\nconst keyCodes = {\n  SPACE: 32,\n}\n\nconst selectors = {\n  // unique\n  ACCORDION_CONTAINER: \"data-accordion\",\n  ACCORDION_ROW: \"data-accordion-row\",\n  // common\n  EXPANDED: \"data-expanded\",\n  TARGET: \"data-target\",\n  CONTENT: \"data-content\",\n  TOGGLE_MULTIPLE: \"data-toggle-multiple\",\n  PARENT: \"data-parent\",\n  // accessibility\n  ARIA_EXPANDED: \"aria-expanded\",\n  ARIA_CONTROLS: \"aria-controls\",\n  ARIA_HIDDEN: \"aria-hidden\",\n  TAB_INDEX: \"tabindex\",\n}\n\nconst events = {\n  CLICK: \"click\",\n  KEYDOWN: \"keydown\",\n}\n\nconst messages = {\n  MISSING_CONTENT:\n    \"You have an accordion button that is missing its [data-content] attribute, and has a matching id to the button's [data-target] attribute's value.\",\n}\n\n/**\n * Accordion component class.\n * @module Accordion\n * @requires Utils\n */\nexport default class Accordion extends Utils {\n  constructor() {\n    super()\n    this.accordionButtons = null\n    this.accordionContents = null\n    this.activeContainer = null\n\n    // bind events to class\n    this.renderAccordionContent = this.renderAccordionContent.bind(this)\n    this.handleSpaceKeyPress = this.handleSpaceKeyPress.bind(this)\n  }\n\n  /**\n   * Add accessible attributes [data-accordion-button] and [data-accordion-content] elements\n   * Begin listening to [data-accordion-button] elements\n   */\n  start() {\n    this.accordionButtons = this.getElements(\n      `[${selectors.ACCORDION_CONTAINER}] [${selectors.TARGET}]`,\n    )\n\n    this.accordionContentsAttr = `[${selectors.ACCORDION_CONTAINER}] [${selectors.CONTENT}]`\n    this.accordionContents = this.getElements(this.accordionContentsAttr)\n\n    this.getFocusableElements(this.accordionContentsAttr).forEach(element => {\n      element.setAttribute(selectors.TAB_INDEX, \"-1\")\n    })\n\n    if (this.accordionButtons.length) {\n      this.accordionButtons.forEach(button => {\n        this.setupButton(button)\n        button.addEventListener(events.CLICK, this.renderAccordionContent)\n        button.addEventListener(events.KEYDOWN, this.handleSpaceKeyPress)\n      })\n    }\n\n    if (this.accordionContents.length) {\n      this.accordionContents.forEach(content => {\n        const contentRowAttr = this.getAccordionRowAttr(content.id)\n        const contentRow = document.querySelector(contentRowAttr)\n        const contentHiddenState = contentRow.getAttribute(selectors.EXPANDED)\n        const toggleContentHiddenState = contentHiddenState === \"true\" ? \"false\" : \"true\"\n        content.setAttribute(selectors.ARIA_HIDDEN, toggleContentHiddenState)\n\n        if (toggleContentHiddenState === \"false\") {\n          this.getFocusableElements(`#${content.id}`).forEach(element => {\n            element.setAttribute(selectors.TAB_INDEX, \"0\")\n          })\n        }\n      })\n    }\n  }\n\n  /**\n   * Stop listening to accordion buttons.\n   */\n  stop() {\n    this.accordionButtons.forEach(button => {\n      button.removeEventListener(events.CLICK, this.renderAccordionContent)\n      button.removeEventListener(events.KEYDOWN, this.handleSpaceKeyPress)\n    })\n  }\n\n  setupButton(button) {\n    const buttonId = button.getAttribute(selectors.TARGET)\n    const accordionRowAttr = this.getAccordionRowAttr(buttonId)\n    const accordionRow = document.querySelector(accordionRowAttr)\n    const shouldContentExpand = accordionRow.getAttribute(selectors.EXPANDED)\n    const buttonContent = document.getElementById(buttonId)\n\n    button.setAttribute(selectors.ARIA_CONTROLS, buttonId)\n\n    if (shouldContentExpand === \"true\") {\n      buttonContent.style.maxHeight = `${buttonContent.scrollHeight}px`\n      button.setAttribute(selectors.ARIA_EXPANDED, \"true\")\n    } else {\n      button.setAttribute(selectors.ARIA_EXPANDED, \"false\")\n    }\n  }\n\n  /**\n   * Return a selector that targets `selectors.ACCORDION_ROW` with value of the id.\n   * @param {String} id - An id value associated with a given selectors.TARGET\n   * @return {String}\n   */\n  getAccordionRowAttr(id) {\n    return `[${selectors.ACCORDION_ROW}='${id}']`\n  }\n\n  /**\n   * Open accordion content associated with a [data-accordion-button] element.\n   * @param {Object} event - The event object.\n   */\n  renderAccordionContent(event) {\n    event.preventDefault()\n\n    this.activeButton = event.target\n    this.activeAccordionRowId = this.activeButton.getAttribute(selectors.TARGET)\n\n    this.activeRowAttr = this.getAccordionRowAttr(this.activeAccordionRowId)\n    this.activeRow = document.querySelector(this.activeRowAttr)\n    this.activeContainerId = this.activeButton.getAttribute(selectors.PARENT)\n    this.activeContainerAttr = `[${selectors.ACCORDION_CONTAINER}='${this.activeContainerId}']`\n    this.activeContainer = document.querySelector(this.activeContainerAttr)\n\n    this.activeContent = document.getElementById(this.activeAccordionRowId)\n\n    const accordionContentHasAttr = this.activeContent.hasAttribute(selectors.CONTENT)\n    if (!accordionContentHasAttr) {\n      throw messages.MISSING_CONTENT\n      return\n    }\n\n    const accordionButtonState = this.activeRow.getAttribute(selectors.EXPANDED)\n    const accordionContentState = this.activeContent.getAttribute(selectors.CONTENT)\n\n    this.toggleExpandState = accordionButtonState === \"true\" ? \"false\" : \"true\"\n    this.toggleContentState = accordionContentState === \"visible\" ? \"hidden\" : \"visible\"\n    this.toggleHiddenState = this.toggleExpandState === \"false\" ? \"true\" : \"false\"\n\n    this.closeAllIfToggleable()\n    this.toggleSelectedAccordion()\n  }\n\n  /**\n   * If a keypress is the spacebar on a button, open its correlated content.\n   * @param {Object} event - The event object.\n   */\n  handleSpaceKeyPress(event) {\n    if (event.which === keyCodes.SPACE) this.renderAccordionContent(event)\n  }\n\n  /**\n   * If toggling multiple rows at once isn't enabled, close all rows except the selected one.\n   * This ensures the selected one can be closed if it's already open.\n   */\n  closeAllIfToggleable() {\n    if (this.activeContainer.hasAttribute(selectors.TOGGLE_MULTIPLE)) return\n    this.allContentAttr = `${this.activeContainerAttr} [${selectors.CONTENT}]`\n    const allRows = this.getElements(`${this.activeContainerAttr} [${selectors.EXPANDED}]`)\n    const allContent = this.getElements(this.allContentAttr)\n    const allButtons = this.getElements(`${this.activeContainerAttr} [${selectors.TARGET}]`)\n\n    allContent.forEach(content => {\n      if (!(content === this.activeContent)) content.style.maxHeight = null\n    })\n\n    this.getFocusableElements(this.allContentAttr).forEach(element => {\n      element.setAttribute(selectors.TAB_INDEX, \"-1\")\n    })\n\n    this.toggleAttributeInCollection(allRows, selectors.EXPANDED, \"true\", \"false\")\n    this.toggleAttributeInCollection(allButtons, selectors.ARIA_EXPANDED, \"true\", \"false\")\n    this.toggleAttributeInCollection(allContent, selectors.ARIA_HIDDEN, \"false\", \"true\")\n    this.toggleAttributeInCollection(allContent, selectors.CONTENT, \"visible\", \"hidden\")\n  }\n\n  /**\n   * Toggle a [data-accordion-button]'s corresponding [data-accordion-content] element.\n   */\n  toggleSelectedAccordion() {\n    this.activeRow.setAttribute(selectors.EXPANDED, this.toggleExpandState)\n    this.activeContent.setAttribute(selectors.CONTENT, this.toggleContentState)\n    this.activeButton.setAttribute(selectors.ARIA_EXPANDED, this.toggleExpandState)\n    this.activeContent.setAttribute(selectors.ARIA_HIDDEN, this.toggleHiddenState)\n\n    const activeContentBlock = `#${this.activeAccordionRowId}`\n    this.getFocusableElements(activeContentBlock).forEach(element => {\n      const value = this.toggleExpandState === \"true\" ? \"0\" : \"-1\"\n      element.setAttribute(selectors.TAB_INDEX, value)\n    })\n\n    if (this.activeContent.style.maxHeight) {\n      this.activeContent.style.maxHeight = null\n    } else {\n      this.activeContent.style.maxHeight = `${this.activeContent.scrollHeight}px`\n    }\n  }\n\n  /**\n   * Toggles a single attribute of a series of elements within a parent.\n   */\n  toggleAttributeInCollection(elements, attributeName, currentValue, newValue) {\n    elements.forEach(element => {\n      if (element.hasAttribute(attributeName, currentValue)) {\n        element.setAttribute(attributeName, newValue)\n      }\n    })\n  }\n}\n","\"use strict\"\n\nimport _Modals from \"./components/modal\"\nimport _Accordion from \"./components/accordion\"\nimport _Utilities from \"./utils\"\n\nconst Modals = new _Modals()\nconst Accordions = new _Accordion()\nconst Utilities = new _Utilities()\n\nconst Undernet = {\n  // Components\n  Modals,\n  Accordions,\n\n  // Utils\n  Utilities,\n}\n\nUndernet.start = () => {\n  // Components\n  Undernet.Modals.start()\n  Undernet.Accordions.start()\n\n  // Utils\n  Undernet.Utilities.enableFocusOutline()\n}\n\nUndernet.stop = () => {\n  // Components\n  Undernet.Modals.stop()\n  Undernet.Accordions.stop()\n\n  // Utils\n  Undernet.Utilities.disableFocusOutline()\n}\n\nwindow.Undernet = Undernet\nexport default Undernet\n"],"names":["keyCodes","selectors","FOCUSABLE_SELECTOR","FOCUSABLE_TAGS","USING_KEYBOARD","events","Utils","handleFocusTrap","this","bind","listenForKeyboard","listenForClick","element","nodeList","document","querySelectorAll","Array","apply","addEventListener","event","tabKey","which","shiftKey","body","classList","add","removeEventListener","remove","container","focusables","map","push","getElements","join","focusContainer","children","getFocusableElements","focusableFirstChild","focusableLastChild","length","active","activeElement","containerActive","querySelector","firstActive","lastActive","hasShift","noShift","releaseFocus","captureFocus","preventDefault","focus","messages","Modal","modalContainerAttr","closeButtonAttr","modals","modalButtons","closeButtons","bodyTag","htmlTag","getModal","_this","handleModalClose","handleEscapeKeyPress","handleOverlayClick","forEach","setAttribute","modal","parentNode","button","_this2","_this3","renderModal","modalButton","target","activeModalId","getAttribute","activeModalOverlayAttr","activeModalOverlay","activeModalSelector","activeModal","modalCloseButtons","handleScrollStop","scrollTop","_this4","handleReturnFocus","handleScrollRestore","removeAttribute","_this5","Accordion","accordionButtons","accordionContents","activeContainer","renderAccordionContent","handleSpaceKeyPress","accordionContentsAttr","setupButton","content","contentRowAttr","getAccordionRowAttr","id","toggleContentHiddenState","buttonId","accordionRowAttr","shouldContentExpand","buttonContent","getElementById","style","maxHeight","scrollHeight","activeButton","activeAccordionRowId","activeRowAttr","activeRow","activeContainerId","activeContainerAttr","activeContent","hasAttribute","accordionButtonState","accordionContentState","toggleExpandState","toggleContentState","toggleHiddenState","closeAllIfToggleable","toggleSelectedAccordion","allContentAttr","allRows","allContent","allButtons","toggleAttributeInCollection","activeContentBlock","value","elements","attributeName","currentValue","newValue","Undernet","Modals","_Modals","Accordions","_Accordion","Utilities","_Utilities","start","enableFocusOutline","stop","disableFocusOutline","window"],"mappings":"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"}