{"version":3,"file":"undernet.bundle.min.js","sources":["../js/src/utils.js","../js/src/accordion.js","../js/src/dropdown.js","../js/src/modal.js","../js/src/tooltip.js","../js/src/index.js","../js/src/index.bundle.js"],"sourcesContent":["const KeyCodes = {\n  SHIFT: 16,\n  TAB: 9,\n  ARROW_UP: 38,\n  ARROW_DOWN: 40,\n}\n\nconst Selectors = {\n  NOT_VISUALLY_HIDDEN: \":not(.is-visually-hidden)\",\n  FOCUSABLE_TAGS: [\"a\", \"button\", \"input\", \"object\", \"select\", \"textarea\", \"[tabindex]\"],\n  KEYBOARD_CLASS: \"using-keyboard\",\n}\n\nconst Events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n}\n\n/**\n * Creates a string of element selector patterns using common elements.\n * @param {String} container - The enclosing container's class, attribute, etc.\n * @return {String}\n */\nexport const nodeListToArray = nodeList => {\n  return Array.apply(null, document.querySelectorAll(nodeList))\n}\n\n/**\n * Creates a string of element selector patterns using common elements.\n * @param {String} container - The enclosing container's class, attribute, etc.\n * @return {Array}\n */\nexport const getFocusableElements = container => {\n  const focusables = Selectors.FOCUSABLE_TAGS.map(\n    element => `${container} ${element}${Selectors.NOT_VISUALLY_HIDDEN}`\n  ).join(\", \")\n\n  return nodeListToArray(focusables)\n}\n\n/**\n * Detects if the browser being used is on an iphone, ipad, or ipod.\n * @return {Boolean}\n */\nexport const iOSMobile = /(iphone|ipod|ipad)/i.test(navigator.userAgent)\n\n/**\n * Utility methods for DOM traversal and focus trapping.\n * @module Utils\n */\nexport default class Utils {\n  constructor() {\n    // events\n    this._listenForKeyboard = this._listenForKeyboard.bind(this)\n    this._listenForClick = this._listenForClick.bind(this)\n    this._handleFocusTrapWithTab = this._handleFocusTrapWithTab.bind(this)\n    this._handleFocusTrapWithArrows = this._handleFocusTrapWithArrows.bind(this)\n\n    this._focusContainerSelector = \"\"\n    this._focusableChildren = []\n    this._focusableFirstChild = {}\n    this._focusableLastChild = {}\n    this._listeningForKeydown = false\n    this._trapFocusWithArrows = false\n  }\n\n  // public\n\n  /**\n   * Listens to the first and last elements matched from this.getFocusableElements()\n   * @param {String} container - The container's class, attribute, etc.\n   * @param {Object} options - Optional has hof options.\n   */\n  captureFocus(container, options) {\n    this._focusContainerSelector = container\n    this._focusableChildren = getFocusableElements(this._focusContainerSelector)\n    this._focusableFirstChild = this._focusableChildren[0]\n    this._focusableLastChild = this._focusableChildren[this._focusableChildren.length - 1]\n\n    if (options) {\n      if (options.useArrows) {\n        this._trapFocusWithArrows = options.useArrows || this._trapFocusWithArrows\n        document.addEventListener(Events.KEYDOWN, this._handleFocusTrapWithArrows)\n      }\n    } else {\n      document.addEventListener(Events.KEYDOWN, this._handleFocusTrapWithTab)\n    }\n  }\n\n  /**\n   * Stop trapping focus set in this.captureFocus()\n   */\n  releaseFocus() {\n    if (this._trapFocusWithArrows) {\n      document.removeEventListener(Events.KEYDOWN, this._handleFocusTrapWithArrows)\n      this._trapFocusWithArrows = false\n    } else {\n      document.removeEventListener(Events.KEYDOWN, this._handleFocusTrapWithTab)\n    }\n  }\n\n  /**\n   * Begin listening to _listenForKeyboard()\n   */\n  enableFocusOutline() {\n    document.addEventListener(Events.KEYDOWN, this._listenForKeyboard)\n  }\n\n  /**\n   * Completely disable focus outline utility.\n   */\n  disableFocusOutline() {\n    if (this._listeningForKeydown) {\n      document.removeEventListener(Events.KEYDOWN, this._listenForKeyboard)\n    } else {\n      document.removeEventListener(Events.CLICK, this._listenForClick)\n    }\n  }\n\n  // private\n\n  /**\n   * When a key is pressed, detect if it's tab or shift keys and enable\n   * focus outlines on currently focused element(s). Then, remove keydown listener\n   * and add click listener on _listenForClick().\n   * @param {Object} event - Event (keypress).\n   */\n  _listenForKeyboard(event) {\n    document.body.classList.add(Selectors.KEYBOARD_CLASS)\n    document.removeEventListener(Events.KEYDOWN, this._listenForKeyboard)\n    document.addEventListener(Events.CLICK, this._listenForClick)\n    this._listeningForKeydown = false\n  }\n\n  /**\n   * On click, remove Selectors.KEYBOARD_CLASS and re-add keydown listener.\n   * @param {Object} event - Event (keypress).\n   */\n  _listenForClick(event) {\n    document.body.classList.remove(Selectors.KEYBOARD_CLASS)\n    document.removeEventListener(Events.CLICK, this._listenForClick)\n    document.addEventListener(Events.KEYDOWN, this._listenForKeyboard)\n    this._listeningForKeydown = true\n  }\n\n  /**\n   * Handles focus on first or last child in a container, using tab and tab+shift keys.\n   * @param {Object} event - Event (keypress)\n   */\n  _handleFocusTrapWithTab(event) {\n    const containerElement = document.querySelector(this._focusContainerSelector)\n    const containerActive = document.activeElement === containerElement\n    const firstActive = document.activeElement === this._focusableFirstChild\n    const lastActive = document.activeElement === this._focusableLastChild\n    const tabKey = event.which === KeyCodes.TAB\n    const shiftKey = event.which === KeyCodes.SHIFT || event.shiftKey\n    const hasShift = shiftKey && tabKey\n    const noShift = !shiftKey && tabKey\n\n    if (shiftKey && tabKey && (firstActive || containerActive)) {\n      event.preventDefault()\n      this._focusableLastChild.focus()\n    } else if (!shiftKey && tabKey && lastActive) {\n      event.preventDefault()\n      this._focusableFirstChild.focus()\n    }\n  }\n\n  /**\n   * Handles focus on the first, last, next, or previous child in a container, using up and down arrow keys.\n   * @param {Object} event - Event (keypress)\n   */\n  _handleFocusTrapWithArrows(event) {\n    const firstActive = document.activeElement === this._focusableFirstChild\n    const lastActive = document.activeElement === this._focusableLastChild\n    const arrowUp = event.which === KeyCodes.ARROW_UP\n    const arrowDown = event.which === KeyCodes.ARROW_DOWN\n\n    if (arrowUp || arrowDown) {\n      event.preventDefault()\n\n      if (firstActive && arrowUp) {\n        this._focusableLastChild.focus()\n      } else if (lastActive && arrowDown) {\n        this._focusableFirstChild.focus()\n      } else if (arrowDown) {\n        this._focusNextChild()\n      } else if (arrowUp) {\n        this._focusLastChild()\n      }\n    }\n  }\n\n  /**\n   * Focus the next child in this._focusableChildren.\n   */\n  _focusNextChild() {\n    for (let i = 0; i < this._focusableChildren.length; i++) {\n      if (this._focusableChildren[i] === document.activeElement) {\n        this._focusableChildren[i + 1].focus()\n        break\n      }\n    }\n  }\n\n  /**\n   * Focus the previous child in this._focusableChildren.\n   */\n  _focusLastChild() {\n    for (let i = 0; i < this._focusableChildren.length; i++) {\n      if (this._focusableChildren[i] === document.activeElement) {\n        this._focusableChildren[i - 1].focus()\n        break\n      }\n    }\n  }\n}\n","import Utils, { getFocusableElements, nodeListToArray } from \"./utils\"\n\nconst Selectors = {\n  // unique\n  DATA_ACCORDION: \"data-accordion\",\n  DATA_ACCORDION_ROW: \"data-accordion-row\",\n  // common\n  DATA_VISIBLE: \"data-visible\",\n  DATA_TARGET: \"data-target\",\n  DATA_TOGGLE_MULTIPLE: \"data-toggle-multiple\",\n  DATA_PARENT: \"data-parent\",\n  // accessibility\n  ARIA_EXPANDED: \"aria-expanded\",\n  ARIA_CONTROLS: \"aria-controls\",\n  ARIA_HIDDEN: \"aria-hidden\",\n  ARIA_LABELLEDBY: \"aria-labelledby\",\n  TABINDEX: \"tabindex\",\n}\n\nconst Events = {\n  CLICK: \"click\",\n  KEYDOWN: \"keydown\",\n}\n\nconst Messages = {\n  NO_VISIBLE_ERROR: id =>\n    `Could not find parent with [data-visible] attribute associated with [data-target='${id}'].`,\n  NO_ROW_ERROR: id => `Could not find [data-accordion-row] associated with ${id}.`,\n  NO_HEADER_ID_ERROR: id => `Could not find header tag associated with [data-target='${id}'].`,\n  NO_PARENT_ERROR: id => `Could not find [data-parent] associated with [data-target='${id}'].`,\n  NO_CONTENT_ERROR: id =>\n    `Could not find accordion content block with [id] ${id} associated with [data-target='${id}'].`,\n}\n\n/**\n * Accordion component class.\n * @module Accordion\n * @requires Utils\n */\nexport default class Accordion extends Utils {\n  constructor() {\n    super()\n\n    // events\n    this._render = this._render.bind(this)\n\n    // all accordions\n    this._accordionButtons = []\n    this._accordionContentsAttr = \"\"\n    this._accordionContents = []\n\n    // active accordion\n    this._activeContainer = {}\n    this._activeButton = {}\n    this._activeAccordionRowId = \"\"\n    this._activeRowAttr = \"\"\n    this._activeRow = \"\"\n    this._activeContainerId = \"\"\n    this._activeContainerAttr = \"\"\n    this._activeContent = {}\n    this._activeButtonExpandState = \"\"\n    this._activeContentHiddenState = \"\"\n\n    // other data\n    this._headerLevels = [1, 2, 3, 4, 5, 6]\n  }\n\n  // public\n\n  /**\n   * Begin listening to accordions.\n   */\n  start() {\n    const accordionButtonSelector = this._getPossibleAccordionButtonAttrs(\n      `[${Selectors.DATA_ACCORDION}]`\n    )\n    this._accordionButtons = nodeListToArray(accordionButtonSelector)\n\n    if (this._accordionButtons.length) {\n      this._accordionButtons.forEach(button => {\n        this._setupAccordion(button)\n        button.addEventListener(Events.CLICK, this._render)\n      })\n    }\n  }\n\n  /**\n   * Stop listening to accordions.\n   */\n  stop() {\n    this._accordionButtons.forEach(button => {\n      button.removeEventListener(Events.CLICK, this._render)\n    })\n  }\n\n  // private\n\n  /**\n   * Open accordion content associated with an accordion button.\n   * @param {Object} event - The event object\n   */\n  _render(event) {\n    event.preventDefault()\n\n    this._activeButton = event.target\n    this._activeAccordionRowId = this._activeButton.getAttribute(Selectors.DATA_TARGET)\n\n    this._activeRowAttr = this._getAccordionRowAttr(this._activeAccordionRowId)\n    this._activeRow = document.querySelector(this._activeRowAttr)\n    this._activeContainerId = this._activeButton.getAttribute(Selectors.DATA_PARENT)\n\n    if (!this._activeContainerId) {\n      return console.error(Messages.NO_PARENT_ERROR(this._activeAccordionRowId))\n    }\n\n    this._activeContainerAttr = `[${Selectors.DATA_ACCORDION}='${this._activeContainerId}']`\n    this._activeContainer = document.querySelector(this._activeContainerAttr)\n\n    if (!this._activeContainer) {\n      return console.error(Messages.NO_ACCORDION_ERROR(this._activeContainerId))\n    }\n\n    this._activeContent = document.getElementById(this._activeAccordionRowId)\n\n    const accordionButtonState = this._activeRow.getAttribute(Selectors.DATA_VISIBLE)\n\n    this._activeButtonExpandState = accordionButtonState === \"true\" ? \"false\" : \"true\"\n    this._activeContentHiddenState = this._activeButtonExpandState === \"false\" ? \"true\" : \"false\"\n\n    this._closeAllIfToggleable()\n    this._toggleSelectedAccordion()\n\n    this._activeContainerId = null\n    this._activeContainer = null\n  }\n\n  /**\n   * Add initial attributes to accordion elements.\n   * @param {Element} button - A button element that triggers an accordion.\n   */\n  _setupAccordion(button) {\n    const buttonId = button.getAttribute(Selectors.DATA_TARGET)\n    const buttonContent = document.getElementById(buttonId)\n\n    if (!buttonContent) {\n      return console.error(Messages.NO_CONTENT_ERROR(buttonId))\n    }\n\n    const accordionRowAttr = this._getAccordionRowAttr(buttonId)\n    const accordionRow = document.querySelector(accordionRowAttr)\n\n    if (!accordionRow) {\n      return console.error(Messages.NO_ROW_ERROR(buttonId))\n    }\n\n    const buttonHeaderAttr = this._getPossibleAccordionHeaderAttrs(accordionRowAttr)\n    const buttonHeader = nodeListToArray(buttonHeaderAttr)[0]\n\n    if (!buttonHeader || !buttonHeader.id) {\n      console.error(Messages.NO_HEADER_ID_ERROR(buttonId))\n    }\n\n    const buttonContentChildren = getFocusableElements(`#${buttonContent.id}`)\n\n    button.setAttribute(Selectors.ARIA_CONTROLS, buttonId)\n    buttonContent.setAttribute(Selectors.ARIA_LABELLEDBY, buttonHeader.id)\n\n    const contentShouldExpand = accordionRow.getAttribute(Selectors.DATA_VISIBLE)\n\n    if (!contentShouldExpand) {\n      return console.error(Messages.NO_VISIBLE_ERROR(buttonId))\n    }\n\n    if (contentShouldExpand === \"true\") {\n      buttonContent.style.maxHeight = `${buttonContent.scrollHeight}px`\n      button.setAttribute(Selectors.ARIA_EXPANDED, \"true\")\n      buttonContent.setAttribute(Selectors.ARIA_HIDDEN, \"false\")\n      buttonContentChildren.forEach(element => {\n        element.setAttribute(Selectors.TABINDEX, \"0\")\n      })\n    } else {\n      button.setAttribute(Selectors.ARIA_EXPANDED, \"false\")\n      buttonContent.setAttribute(Selectors.ARIA_HIDDEN, \"true\")\n      buttonContentChildren.forEach(element => {\n        element.setAttribute(Selectors.TABINDEX, \"-1\")\n      })\n    }\n  }\n\n  /**\n   * Build a selector string to match possible accordion buttons\n   * @param {String} attr - A unique attribute\n   * @return {String} - String of possible button selectors\n   */\n  _getPossibleAccordionButtonAttrs(attr) {\n    return this._headerLevels\n      .map(\n        num => `${attr} > [${Selectors.DATA_ACCORDION_ROW}] > h${num} [${Selectors.DATA_TARGET}]`\n      )\n      .join(\", \")\n  }\n\n  /**\n   * Build a selector string to match possible accordion headers\n   * @param {String} attr - A unique attribute\n   * @return {String} - String of possible header selectors\n   */\n  _getPossibleAccordionHeaderAttrs(attr) {\n    return this._headerLevels.map(num => `${attr} > h${num}`).join(\", \")\n  }\n\n  /**\n   * Build a unique accordion row attribute selector.\n   * @param {String} id - An id value associated with a given Selectors.DATA_TARGET\n   * @return {String} - A unique accordion row selector\n   */\n  _getAccordionRowAttr(id) {\n    return `[${Selectors.DATA_ACCORDION_ROW}='${id}']`\n  }\n\n  /**\n   * If toggling multiple rows at once isn't enabled, close all rows except the selected one.\n   * This ensures the selected one can be closed if it's already open.\n   */\n  _closeAllIfToggleable() {\n    if (this._activeContainer.hasAttribute(Selectors.DATA_TOGGLE_MULTIPLE)) return\n\n    const allContentAttr = `${this._activeContainerAttr} [${Selectors.ARIA_HIDDEN}]`\n    const allRows = nodeListToArray(`${this._activeContainerAttr} [${Selectors.DATA_VISIBLE}]`)\n    const allContent = nodeListToArray(allContentAttr)\n\n    const accordionButtonSelector = this._getPossibleAccordionButtonAttrs(this._activeContainerAttr)\n    const allButtons = nodeListToArray(accordionButtonSelector)\n\n    allContent.forEach(content => {\n      if (content !== this._activeContent) content.style.maxHeight = null\n    })\n\n    getFocusableElements(allContentAttr).forEach(element => {\n      element.setAttribute(Selectors.TABINDEX, \"-1\")\n    })\n\n    this._toggleAttributeInCollection(allRows, Selectors.DATA_VISIBLE, \"true\", \"false\")\n    this._toggleAttributeInCollection(allButtons, Selectors.ARIA_EXPANDED, \"true\", \"false\")\n    this._toggleAttributeInCollection(allContent, Selectors.ARIA_HIDDEN, \"false\", \"true\")\n  }\n\n  /**\n   * Toggle the currently selected accordion button's content.\n   */\n  _toggleSelectedAccordion() {\n    this._activeRow.setAttribute(Selectors.DATA_VISIBLE, this._activeButtonExpandState)\n    this._activeButton.setAttribute(Selectors.ARIA_EXPANDED, this._activeButtonExpandState)\n    this._activeContent.setAttribute(Selectors.ARIA_HIDDEN, this._activeContentHiddenState)\n\n    const activeContentBlock = `#${this._activeAccordionRowId}`\n    getFocusableElements(activeContentBlock).forEach(element => {\n      const value = this._activeButtonExpandState === \"true\" ? \"0\" : \"-1\"\n      element.setAttribute(Selectors.TABINDEX, value)\n    })\n\n    if (this._activeContent.style.maxHeight) {\n      this._activeContent.style.maxHeight = null\n    } else {\n      this._activeContent.style.maxHeight = `${this._activeContent.scrollHeight}px`\n    }\n  }\n\n  /**\n   * Toggles a single attribute of a series of elements.\n   * @param {Array} elements - An array of elements to be operated on.\n   * @param {String} attributeName - An attribute to be changed.\n   * @param {String} currentValue - The current value of attributeName\n   * @param {String} newValue - The new value of attributeName\n   */\n  _toggleAttributeInCollection(elements, attributeName, currentValue, newValue) {\n    elements.forEach(element => {\n      if (element.hasAttribute(attributeName, currentValue)) {\n        element.setAttribute(attributeName, newValue)\n      }\n    })\n  }\n}\n","import Utils, { iOSMobile, nodeListToArray } from \"./utils\"\n\nconst KeyCodes = {\n  TAB: 9,\n  SHIFT: 16,\n  ESCAPE: 27,\n  ARROW_UP: 38,\n  ARROW_DOWN: 40,\n}\n\nconst Selectors = {\n  // unique\n  DATA_DROPDOWN: \"data-dropdown\",\n  // common\n  DATA_TARGET: \"data-target\",\n  DATA_PARENT: \"data-parent\",\n  DATA_VISIBLE: \"data-visible\",\n  // accessibility\n  TABINDEX: \"tabindex\",\n  ARIA_HASPOPUP: \"aria-haspopup\",\n  ARIA_CONTROLS: \"aria-controls\",\n  ARIA_LABELLEDBY: \"aria-labelledby\",\n  ARIA_EXPANDED: \"aria-expanded\",\n  ROLE: \"role\",\n}\n\nconst Events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n}\n\nconst Messages = {\n  NO_PARENT_ERROR: `Could not find dropdown button's [data-parent] attribute.`,\n  NO_DROPDOWN_ERROR: attr => `Could not find dropdown container associated with ${attr}.`,\n  NO_MENU_ERROR: attr => `Could not find menu associated with ${attr}.`,\n}\n\n/**\n * Dropdown component class.\n * @module Dropdown\n * @requires Utils\n */\nexport default class Dropdown extends Utils {\n  constructor() {\n    super()\n    // events\n    this._render = this._render.bind(this)\n    this._handleFirstTabClose = this._handleFirstTabClose.bind(this)\n    this._handleLastTabClose = this._handleLastTabClose.bind(this)\n    this._renderWithKeys = this._renderWithKeys.bind(this)\n    this._handleClose = this._handleClose.bind(this)\n    this._handleEscapeKeyPress = this._handleEscapeKeyPress.bind(this)\n    this._handleOffMenuClick = this._handleOffMenuClick.bind(this)\n\n    // active dropdown\n    this._activeDropdownButton = null\n    this._activeDropdown = null\n    this._activeDropdownMenu = null\n    this._activeDropdownLinks = []\n    this._allowFocusReturn = true\n    this._activeDropdownId = \"\"\n    this._activeDropdownAttr = \"\"\n    this._activeDropdownMenuId = \"\"\n\n    // all dropdowns\n    this._dropdownButtons = []\n    this._dropdowns = []\n\n    // dropdown element selectors\n    this._dropdownContainerAttr = `[${Selectors.DATA_DROPDOWN}]`\n    this._dropdownTargetAttr = `[${Selectors.DATA_TARGET}]`\n  }\n\n  // public\n\n  /**\n   * Begin listening to dropdowns.\n   */\n  start() {\n    this._dropdowns = nodeListToArray(`${this._dropdownContainerAttr}`)\n    this._dropdownButtons = nodeListToArray(\n      `${this._dropdownContainerAttr} > ${this._dropdownTargetAttr}`\n    )\n\n    if (this._dropdowns.length) {\n      this._dropdowns.forEach(dropdown => this._setupDropdown(dropdown))\n    }\n\n    this._dropdownButtons.forEach(button => {\n      button.addEventListener(Events.CLICK, this._render)\n      button.addEventListener(Events.KEYDOWN, this._renderWithKeys)\n    })\n  }\n\n  /**\n   * Stop listening to dropdowns.\n   */\n  stop() {\n    this._dropdownButtons.forEach(button => {\n      button.removeEventListener(Events.CLICK, this._render)\n      button.removeEventListener(Events.KEYDOWN, this._renderWithKeys)\n    })\n  }\n\n  // private\n\n  /**\n   * Find a button through event.target, then render the corresponding modal attribute via matching target id\n   * @param {Object} event - The event object\n   * @param {Number} key - The key code that called _render()\n   */\n  _render(event, key) {\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (this._activeDropdownButton) {\n      this._allowFocusReturn = false\n      this._handleClose(event)\n      this._allowFocusReturn = true\n    }\n\n    // dropdown button / trigger\n    this._activeDropdownButton = event.target\n    this._activeDropdownId = this._activeDropdownButton.getAttribute(Selectors.DATA_PARENT)\n\n    if (!this._activeDropdownId) {\n      return console.error(Messages.NO_PARENT_ERROR)\n    }\n\n    // dropdown container\n    this._activeDropdownAttr = `[${Selectors.DATA_DROPDOWN}=\"${this._activeDropdownId}\"]`\n    this._activeDropdown = document.querySelector(this._activeDropdownAttr)\n\n    if (!this._activeDropdown) {\n      return console.error(Messages.NO_DROPDOWN_ERROR(this._activeDropdownAttr))\n    }\n\n    // dropdown menu\n    this._activeDropdownMenuId = this._activeDropdownButton.getAttribute(Selectors.DATA_TARGET)\n    this._activeDropdownMenu = document.getElementById(this._activeDropdownMenuId)\n\n    // toggle attributes on dropdown button, indicating a visible dropdown is present\n    this._activeDropdownButton.setAttribute(Selectors.ARIA_EXPANDED, \"true\")\n    this._activeDropdown.setAttribute(Selectors.DATA_VISIBLE, \"true\")\n\n    // trade button event listener to close the menu, instead of open it\n    this._activeDropdownButton.removeEventListener(Events.CLICK, this._render)\n    this._activeDropdownButton.addEventListener(Events.CLICK, this._handleClose)\n\n    document.addEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\n    document.addEventListener(Events.CLICK, this._handleOffMenuClick)\n\n    // make click events work on mobile iOS\n    if (iOSMobile) {\n      document.body.style.cursor = \"pointer\"\n    }\n\n    this._activeDropdownLinks = this._getDropdownLinks(this._activeDropdownAttr)\n\n    this.firstDropdownLink = this._activeDropdownLinks[0]\n    this.lastDropdownLink = this._activeDropdownLinks[this._activeDropdownLinks.length - 1]\n\n    this.firstDropdownLink.addEventListener(Events.KEYDOWN, this._handleFirstTabClose)\n    this.lastDropdownLink.addEventListener(Events.KEYDOWN, this._handleLastTabClose)\n\n    if (key && key === KeyCodes.ARROW_UP) {\n      this.lastDropdownLink.focus()\n    } else {\n      this.firstDropdownLink.focus()\n    }\n\n    this._activeDropdownLinks.forEach(link => {\n      link.setAttribute(Selectors.TABINDEX, \"0\")\n      link.addEventListener(Events.CLICK, this._handleClose)\n    })\n\n    this.captureFocus(`${this._activeDropdownAttr} > ul`, { useArrows: true })\n  }\n\n  /**\n   * Closes the dropdown if user uses shift and tab keys on the first dropdown element.\n   * @param {Object} event - The event object\n   */\n  _handleFirstTabClose(event) {\n    const shiftKey = event.which === KeyCodes.SHIFT || event.shiftKey\n    const tabKey = event.which === KeyCodes.TAB\n\n    if (shiftKey && tabKey) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Closes the dropdown if user uses tab key on the last dropdown element.\n   * @param {Object} event - The event object\n   */\n  _handleLastTabClose(event) {\n    const shiftKey = event.which === KeyCodes.SHIFT || event.shiftKey\n    const tabKey = event.which === KeyCodes.TAB\n\n    if (tabKey && !shiftKey) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Renders dropdown if the user uses arrow up or down.\n   * @param {Object} event - The event object\n   */\n  _renderWithKeys(event) {\n    if (event.which === KeyCodes.ARROW_UP || event.which === KeyCodes.ARROW_DOWN) {\n      this._render(event, event.which)\n    }\n  }\n\n  /**\n   * Closes currently open dropdown.\n   * @param {Object} event - The event object\n   */\n  _handleClose(event) {\n    event.preventDefault()\n\n    this.releaseFocus()\n\n    this._activeDropdownButton.setAttribute(Selectors.ARIA_EXPANDED, \"false\")\n    this._activeDropdown.setAttribute(Selectors.DATA_VISIBLE, \"false\")\n\n    this._activeDropdownLinks.forEach(link => {\n      link.setAttribute(Selectors.TABINDEX, \"-1\")\n      link.removeEventListener(Events.CLICK, this._handleClose)\n    })\n\n    this._activeDropdownButton.removeEventListener(Events.CLICK, this._handleClose)\n    this._activeDropdownButton.addEventListener(Events.CLICK, this._render)\n\n    document.removeEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\n\n    if (iOSMobile) {\n      document.body.style.cursor = \"auto\"\n    }\n\n    document.removeEventListener(Events.CLICK, this._handleOffMenuClick)\n\n    if (this._allowFocusReturn) {\n      this._handleReturnFocus()\n    }\n\n    this._activeDropdownButton = null\n    this._activeDropdownId = null\n    this._activeDropdown = null\n  }\n\n  /**\n   * Use escape key to close dropdown.\n   * @param {Object} event - The event object\n   */\n  _handleEscapeKeyPress(event) {\n    if (event.which === KeyCodes.ESCAPE) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Closes dropdown\n   * @param {Object} event - The event object\n   */\n  _handleOffMenuClick(event) {\n    if (event.target !== this._activeDropdownButton && event.target !== this._activeDropdownMenu) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Puts focus on a the active dropdown button.\n   */\n  _handleReturnFocus() {\n    this._activeDropdownButton.setAttribute(Selectors.TAB_INDEX, \"-1\")\n    this._activeDropdownButton.focus()\n    this._activeDropdownButton.removeAttribute(Selectors.TAB_INDEX)\n  }\n\n  /**\n   * Retrieve possible menu links or buttons as an array\n   * @param {String} attr - The unique attribute for a dropdown.\n   * @return {String} - Selector for possible menu item links.\n   */\n  _getDropdownLinks(attr) {\n    return nodeListToArray(`${attr} > ul > li > a, ${attr} > ul > li > button`)\n  }\n\n  /**\n   * Add starting attributes to a dropdown.\n   * @param {Element} dropdown - A dropdown element.\n   */\n  _setupDropdown(dropdown) {\n    const dropdownId = dropdown.getAttribute(Selectors.DATA_DROPDOWN)\n\n    // no id error\n\n    const dropdownAttr = `[${Selectors.DATA_DROPDOWN}=\"${dropdownId}\"]`\n    const dropdownMenuItemsAttr = `${dropdownAttr} > ul > li`\n    const dropdownMenu = document.querySelector(`${dropdownAttr} > ul`)\n\n    // no ul error\n\n    if (!dropdownMenu) {\n      return console.error(Messages.NO_MENU_ERROR(dropdownAttr))\n    }\n\n    const dropdownButton = document.querySelector(`${dropdownAttr} > ${this._dropdownTargetAttr}`)\n\n    dropdownButton.setAttribute(Selectors.ARIA_CONTROLS, dropdownMenu.id)\n    dropdownButton.setAttribute(Selectors.ARIA_HASPOPUP, \"true\")\n    dropdownButton.setAttribute(Selectors.ARIA_EXPANDED, \"false\")\n    dropdownMenu.setAttribute(Selectors.ARIA_LABELLEDBY, dropdownButton.id)\n\n    const dropdownMenuListItems = nodeListToArray(dropdownMenuItemsAttr)\n\n    // no menu items error\n\n    dropdownMenuListItems.forEach(item => item.setAttribute(Selectors.ROLE, \"none\"))\n\n    const dropdownMenuButtons = this._getDropdownLinks(dropdownAttr)\n\n    // no menu buttons error\n\n    dropdownMenuButtons.forEach(link => {\n      link.setAttribute(Selectors.ROLE, \"menuitem\")\n      link.setAttribute(Selectors.TABINDEX, \"-1\")\n    })\n  }\n}\n","import Utils, { iOSMobile, getFocusableElements, nodeListToArray } from \"./utils\"\n\nconst KeyCodes = {\n  ESCAPE: 27,\n}\n\nconst Selectors = {\n  // unique\n  DATA_MODAL: \"data-modal\",\n  DATA_MODAL_BUTTON: \"data-modal-button\",\n  // common\n  DATA_VISIBLE: \"data-visible\",\n  DATA_CLOSE: \"data-close\",\n  DATA_PARENT: \"data-parent\",\n  // accessibility\n  ARIA_HIDDEN: \"aria-hidden\",\n  ARIA_MODAL: \"aria-modal\",\n  ROLE: \"role\",\n  TABINDEX: \"tabindex\",\n  // classes\n  NO_SCROLL: \"no-scroll\",\n}\n\nconst Events = {\n  KEYDOWN: \"keydown\",\n  CLICK: \"click\",\n  RESIZE: \"resize\",\n}\n\nconst Messages = {\n  NO_BUTTON_ID_ERROR:\n    \"Could not find an id on your [data-modal-button] element. Modal can't be opened.\",\n  NO_MODAL_ID_ERROR:\n    \"Could not detect an id on your [data-modal] element. Please add a value matching a button's [data-modal-button] attribute.\",\n  NO_MODAL_ERROR: id =>\n    `Could not find a [data-parent='${id}'] attribute within your [data-modal='${id}'] element.`,\n}\n\n/**\n * Modal component class.\n * @module Modal\n * @requires Utils\n */\nexport default class Modal extends Utils {\n  constructor() {\n    super()\n\n    // events\n    this._render = this._render.bind(this)\n    this._handleClose = this._handleClose.bind(this)\n    this._handleOverlayClick = this._handleOverlayClick.bind(this)\n    this._handleEscapeKeyPress = this._handleEscapeKeyPress.bind(this)\n\n    // all modals\n    this._modals = []\n    this._modalButtons = []\n\n    // active modal\n    this._activeModalButton = {}\n    this._activeModalOverlay = {}\n    this._activeModal = {}\n    this._activeModalId = \"\"\n    this._activeModalOverlayAttr = \"\"\n    this._activeModalSelector = \"\"\n    this._activeModalCloseButtons = []\n\n    // attribute helpers\n    this._modalContainerAttr = `[${Selectors.DATA_MODAL}]`\n  }\n\n  // public\n\n  /**\n   * Begin listening to modals.\n   */\n  start() {\n    this._modals = nodeListToArray(this._modalContainerAttr)\n    this._modalButtons = nodeListToArray(`[${Selectors.DATA_MODAL_BUTTON}]`)\n\n    getFocusableElements(this._modalContainerAttr).forEach(element => {\n      element.setAttribute(Selectors.TABINDEX, \"-1\")\n    })\n\n    if (this._modals.length) {\n      this._modals.forEach(instance => {\n        this._setupModal(instance)\n      })\n    }\n\n    if (this._modalButtons.length) {\n      this._modalButtons.forEach(button => {\n        button.addEventListener(Events.CLICK, this._render)\n      })\n    }\n  }\n\n  /**\n   * Stop listening to modals\n   */\n  stop() {\n    this._modalButtons.forEach(button => {\n      button.removeEventListener(Events.CLICK, this._render)\n    })\n  }\n\n  // private\n\n  /**\n   * Find a button through event.target, then render the corresponding modal attribute via matching target id\n   * @param {Object} event - The event object\n   */\n  _render(event) {\n    event.preventDefault()\n    this._activeModalButton = event.target\n    this._activeModalId = this._activeModalButton.getAttribute(Selectors.DATA_MODAL_BUTTON)\n\n    if (!this._activeModalId) {\n      return console.error(Messages.NO_BUTTON_ID_ERROR)\n    }\n\n    this._activeModalOverlay = document.querySelector(\n      `[${Selectors.DATA_MODAL}=\"${this._activeModalId}\"]`\n    )\n    this._activeModalSelector = `[${Selectors.DATA_PARENT}='${this._activeModalId}']`\n    this._activeModal = this._activeModalOverlay.querySelector(this._activeModalSelector)\n    this._activeModalCloseButtons = nodeListToArray(\n      `${this._activeModalSelector} [${Selectors.DATA_CLOSE}]`\n    )\n\n    getFocusableElements(this._activeModalSelector).forEach(element => {\n      element.setAttribute(Selectors.TABINDEX, \"0\")\n    })\n\n    this._handleScrollStop()\n    this.captureFocus(this._activeModalSelector)\n    this._activeModalOverlay.setAttribute(Selectors.ARIA_HIDDEN, \"false\")\n    this._activeModalOverlay.setAttribute(Selectors.DATA_VISIBLE, \"true\")\n\n    this._activeModal.setAttribute(Selectors.TABINDEX, \"-1\")\n    this._activeModal.focus()\n\n    this._activeModalOverlay.scrollTop = 0\n\n    if (iOSMobile) {\n      this._activeModalOverlay.style.cursor = \"pointer\"\n    }\n\n    // begin listening to events\n    document.addEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\n    document.addEventListener(Events.CLICK, this._handleOverlayClick)\n    this._activeModalCloseButtons.forEach(button => {\n      button.addEventListener(Events.CLICK, this._handleClose)\n    })\n  }\n\n  /**\n   * Setup a modal instance.\n   * @param {Object} instance - The modal element\n   */\n  _setupModal(instance) {\n    const modalId = instance.getAttribute(Selectors.DATA_MODAL)\n\n    if (!modalId) {\n      return console.error(Messages.NO_MODAL_ID_ERROR)\n    }\n\n    const modal = instance.querySelector(`[${Selectors.DATA_PARENT}='${modalId}']`)\n\n    if (!modal) {\n      return console.error(Messages.NO_MODAL_ERROR(modalId))\n    }\n\n    const modalWrapper = document.querySelector(`[${Selectors.DATA_MODAL}='${modalId}']`)\n\n    modalWrapper.setAttribute(Selectors.ARIA_HIDDEN, \"true\")\n    modalWrapper.setAttribute(Selectors.DATA_VISIBLE, \"false\")\n    modal.setAttribute(Selectors.ARIA_MODAL, \"true\")\n    modal.setAttribute(Selectors.ROLE, \"dialog\")\n  }\n\n  /**\n   * Turn off event listeners and reset focus to last selected DOM node (button)\n   * @param {Object} event - The event object\n   */\n  _handleClose(event) {\n    event.preventDefault()\n    this._activeModalOverlay.setAttribute(Selectors.DATA_VISIBLE, \"false\")\n    this._handleReturnFocus()\n    this._handleScrollRestore()\n    this.releaseFocus()\n    this._activeModalOverlay.setAttribute(Selectors.ARIA_HIDDEN, \"true\")\n    this._activeModal.removeAttribute(Selectors.TABINDEX)\n\n    getFocusableElements(this._activeModalSelector).forEach(element => {\n      element.setAttribute(Selectors.TABINDEX, \"-1\")\n    })\n\n    if (iOSMobile) {\n      this._activeModalOverlay.style.cursor = \"auto\"\n    }\n\n    // stop listening to events\n    document.removeEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\n    document.removeEventListener(Events.CLICK, this._handleOverlayClick)\n    this._activeModalCloseButtons.forEach(button => {\n      button.removeEventListener(Events.CLICK, this._handleClose)\n    })\n\n    this._activeModalId = null\n  }\n\n  /**\n   * Handles click event on the modal background to close it.\n   * @param {Object} event - The event object\n   */\n  _handleOverlayClick(event) {\n    if (event.target === this._activeModalOverlay) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Handles escape key event to close the current modal\n   * @param {Object} event - The event object\n   */\n  _handleEscapeKeyPress(event) {\n    if (event.which === KeyCodes.ESCAPE) {\n      this._handleClose(event)\n    }\n  }\n\n  /**\n   * Returns focus to the last focused element before the modal was called.\n   * @param {Object} button - The current modal's corresponding button.\n   */\n  _handleReturnFocus() {\n    this._activeModalButton.setAttribute(Selectors.TABINDEX, \"-1\")\n    this._activeModalButton.focus()\n    this._activeModalButton.removeAttribute(Selectors.TABINDEX)\n  }\n\n  /**\n   * Restores scroll behavior to <html> and <body>\n   */\n  _handleScrollRestore() {\n    document.body.classList.remove(Selectors.NO_SCROLL)\n    document.documentElement.classList.remove(Selectors.NO_SCROLL)\n  }\n\n  /**\n   * Prevents scroll behavior on <html> and <body>\n   */\n  _handleScrollStop() {\n    document.body.classList.add(Selectors.NO_SCROLL)\n    document.documentElement.classList.add(Selectors.NO_SCROLL)\n  }\n}\n","import { iOSMobile } from \"./utils\"\r\n\r\nconst KeyCodes = {\r\n  ESCAPE: 27,\r\n}\r\n\r\nconst Selectors = {\r\n  DATA_TOOLTIP: \"data-tooltip\",\r\n  DATA_VISIBLE: \"data-visible\",\r\n  DATA_TARGET: \"data-target\",\r\n  ROLE: \"role\",\r\n  ARIA_DESCRIBEDBY: \"aria-describedby\",\r\n  DROP_LEFT_CLASS: \"is-drop-left\",\r\n  DROP_RIGHT_CLASS: \"is-drop-right\",\r\n}\r\n\r\nconst Events = {\r\n  CLICK: \"click\",\r\n  MOUSEOVER: \"mouseover\",\r\n  MOUSEOUT: \"mouseout\",\r\n  FOCUS: \"focus\",\r\n  BLUR: \"blur\",\r\n  KEYDOWN: \"keydown\",\r\n}\r\n\r\nconst Messages = {\r\n  NO_ID_ERROR: \"Could not find your tooltip's id.\",\r\n  NO_TRIGGER_ERROR: id => `Could not find a tooltip trigger with id of ${id}.`,\r\n  NO_TOOLTIP_ERROR: id => `Could not find a tooltip with id of ${id}.`,\r\n}\r\n\r\n/**\r\n * Tooltip component class.\r\n * @module Tooltip\r\n */\r\nexport default class Tooltip {\r\n  constructor() {\r\n    // events\r\n    this._render = this._render.bind(this)\r\n    this._handleClose = this._handleClose.bind(this)\r\n    this._handleEscapeKeyPress = this._handleEscapeKeyPress.bind(this)\r\n\r\n    // active tooltip\r\n    this._activeTrigger = null\r\n    this._activeTooltip = null\r\n\r\n    // all tooltips\r\n    this._allTooltips = []\r\n  }\r\n\r\n  // public\r\n\r\n  /**\r\n   * Begin listening to tooltips.\r\n   */\r\n  start() {\r\n    this._allTooltips = document.querySelectorAll(`[${Selectors.DATA_TOOLTIP}]`)\r\n\r\n    this._allTooltips.forEach(instance => {\r\n      this._setupTooltip(instance)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Stop listening to tooltips.\r\n   */\r\n  stop() {\r\n    this._allTooltips.forEach(instance => {\r\n      const id = instance.getAttribute(Selectors.DATA_TOOLTIP)\r\n      const trigger = instance.querySelector(this._getTrigger(id))\r\n\r\n      trigger.removeEventListener(Events.MOUSEOVER, this._render)\r\n      trigger.removeEventListener(Events.FOCUS, this._render)\r\n    })\r\n  }\r\n\r\n  // private\r\n\r\n  /**\r\n   * Render a tooltip.\r\n   * @param {Object} event - The event object\r\n   */\r\n  _render(event) {\r\n    this._activeTrigger = event.target\r\n    const tooltipId = this._activeTrigger.getAttribute(Selectors.DATA_TARGET)\r\n    this._activeTooltip = document.getElementById(tooltipId)\r\n\r\n    // align tooltip to its trigger\r\n    // -> if the trigger is on the left or right side, use height\r\n    // -> else use width\r\n    if (this._isLeftOrRight()) {\r\n      this._alignTooltip(\"height\")\r\n    } else {\r\n      this._alignTooltip(\"width\")\r\n    }\r\n\r\n    this._showTooltip()\r\n    this._listenForClose()\r\n  }\r\n\r\n  /**\r\n   * Close a tooltip.\r\n   */\r\n  _handleClose() {\r\n    this._hideTooltip()\r\n    this._listenForOpen()\r\n\r\n    this._activeTrigger = null\r\n    this._activeTooltip = null\r\n  }\r\n\r\n  /**\r\n   * Add data-visible attribute to currently active tooltip.\r\n   */\r\n  _showTooltip() {\r\n    this._activeTooltip.setAttribute(Selectors.DATA_VISIBLE, \"true\")\r\n  }\r\n\r\n  /**\r\n   * Remove data-visible attribute from currently active tooltip.\r\n   */\r\n  _hideTooltip() {\r\n    this._activeTooltip.setAttribute(Selectors.DATA_VISIBLE, \"false\")\r\n  }\r\n\r\n  /**\r\n   * Stop listening for render events, and start listening to close events.\r\n   */\r\n  _listenForClose() {\r\n    this._activeTrigger.removeEventListener(Events.MOUSEOVER, this._render)\r\n    this._activeTrigger.removeEventListener(Events.FOCUS, this._render)\r\n    this._activeTrigger.addEventListener(Events.MOUSEOUT, this._handleClose)\r\n    this._activeTrigger.addEventListener(Events.BLUR, this._handleClose)\r\n    document.addEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\r\n\r\n    if (iOSMobile) {\r\n      document.body.style.cursor = \"pointer\"\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Close a tooltip with the escape key.\r\n   * @param {Object} event - The event object\r\n   */\r\n  _handleEscapeKeyPress(event) {\r\n    if (event.which === KeyCodes.ESCAPE) {\r\n      this._handleClose()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Stop listening to close events, start listening for render events.\r\n   */\r\n  _listenForOpen() {\r\n    this._activeTrigger.removeEventListener(Events.MOUSEOUT, this._handleClose)\r\n    this._activeTrigger.removeEventListener(Events.BLUR, this._handleClose)\r\n    this._activeTrigger.addEventListener(Events.MOUSEOVER, this._render)\r\n    this._activeTrigger.addEventListener(Events.FOCUS, this._render)\r\n    document.removeEventListener(Events.KEYDOWN, this._handleEscapeKeyPress)\r\n\r\n    if (iOSMobile) {\r\n      document.body.style.cursor = \"auto\"\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Aligns a tooltip vertically or horizontally.\r\n   * @param {String} property - String specifying \"height\" or \"width\"\r\n   */\r\n  _alignTooltip(property) {\r\n    const triggerLength = this._getComputedLength(this._activeTrigger, property)\r\n    const tooltipLength = this._getComputedLength(this._activeTooltip, property)\r\n    const triggerIsLongest = triggerLength > tooltipLength\r\n\r\n    const offset = triggerIsLongest\r\n      ? (triggerLength - tooltipLength) / 2\r\n      : (tooltipLength - triggerLength) / -2\r\n\r\n    if (property === \"height\") {\r\n      this._activeTooltip.style.top = `${offset}px`\r\n    } else {\r\n      this._activeTooltip.style.left = `${offset}px`\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Setup a tooltip and trigger with appropriate event listeners and attributes.\r\n   * @param {Object} instance - A tooltip instance\r\n   */\r\n  _setupTooltip(instance) {\r\n    const id = instance.getAttribute(Selectors.DATA_TOOLTIP)\r\n    const trigger = instance.querySelector(this._getTrigger(id))\r\n    const tooltip = document.getElementById(id)\r\n\r\n    if (!id) {\r\n      return console.error(Messages.NO_ID_ERROR)\r\n    }\r\n\r\n    if (!trigger) {\r\n      return console.error(Messages.NO_TRIGGER_ERROR(id))\r\n    }\r\n\r\n    if (!tooltip) {\r\n      return console.error(Messages.NO_TOOLTIP_ERROR(id))\r\n    }\r\n\r\n    trigger.setAttribute(Selectors.ARIA_DESCRIBEDBY, id)\r\n    tooltip.setAttribute(Selectors.ROLE, \"tooltip\")\r\n\r\n    trigger.addEventListener(Events.MOUSEOVER, this._render)\r\n    trigger.addEventListener(Events.FOCUS, this._render)\r\n  }\r\n\r\n  /**\r\n   * Get an attribute selector string.\r\n   * @param {String} id - A unique tooltip id\r\n   * @return {String}\r\n   */\r\n  _getTrigger(id) {\r\n    return `[${Selectors.DATA_TARGET}=\"${id}\"]`\r\n  }\r\n\r\n  /**\r\n   * Render a tooltip.\r\n   * @param {Object} element - A tooltip element\r\n   * @param {String} property - The \"height\" or \"width\" property.\r\n   * @return {Number}\r\n   */\r\n  _getComputedLength(element, property) {\r\n    return parseInt(window.getComputedStyle(element)[property].slice(0, -2))\r\n  }\r\n\r\n  /**\r\n   * Determine if a tooltip is rendering on the left or right.\r\n   * @return {Boolean}\r\n   */\r\n  _isLeftOrRight() {\r\n    const classes = this._activeTooltip.classList\r\n    return (\r\n      classes.contains(Selectors.DROP_LEFT_CLASS) || classes.contains(Selectors.DROP_RIGHT_CLASS)\r\n    )\r\n  }\r\n}\r\n","import _Accordion from \"./accordion\"\nimport _Dropdown from \"./dropdown\"\nimport _Modals from \"./modal\"\nimport _Tooltips from \"./tooltip\"\nimport _Utils from \"./utils\"\n\nexport const Accordions = new _Accordion()\nexport const Dropdowns = new _Dropdown()\nexport const Modals = new _Modals()\nexport const Tooltips = new _Tooltips()\nexport const Utils = new _Utils()\n\nconst Undernet = {\n  // Components\n  Modals,\n  Accordions,\n  Dropdowns,\n  Tooltips,\n\n  // Utils\n  Utils,\n}\n\nUndernet.start = () => {\n  // Components\n  Undernet.Modals.start()\n  Undernet.Accordions.start()\n  Undernet.Dropdowns.start()\n  Undernet.Tooltips.start()\n\n  // Utils\n  Undernet.Utils.enableFocusOutline()\n}\n\nUndernet.stop = () => {\n  // Components\n  Undernet.Modals.stop()\n  Undernet.Accordions.stop()\n  Undernet.Dropdowns.stop()\n\n  // Utils\n  Undernet.Utils.disableFocusOutline()\n}\n\nexport default Undernet\n","import Undernet from \"./index\"\n\nwindow.Undernet = Undernet\nexport { default as Undernet, Modals, Accordions, Dropdowns, Tooltips, Utils } from \"./index\"\n"],"names":["KeyCodes","Selectors","NOT_VISUALLY_HIDDEN","FOCUSABLE_TAGS","KEYBOARD_CLASS","Events","nodeListToArray","nodeList","Array","apply","document","querySelectorAll","getFocusableElements","container","focusables","map","element","join","iOSMobile","test","navigator","userAgent","Utils","_listenForKeyboard","this","bind","_listenForClick","_handleFocusTrapWithTab","_handleFocusTrapWithArrows","_focusContainerSelector","_focusableChildren","_focusableFirstChild","_focusableLastChild","_listeningForKeydown","_trapFocusWithArrows","options","length","useArrows","addEventListener","removeEventListener","event","body","classList","add","remove","containerElement","querySelector","containerActive","activeElement","firstActive","lastActive","tabKey","which","shiftKey","preventDefault","focus","arrowUp","arrowDown","_focusNextChild","_focusLastChild","i","Messages","NO_VISIBLE_ERROR","id","NO_ROW_ERROR","NO_HEADER_ID_ERROR","NO_PARENT_ERROR","NO_CONTENT_ERROR","Accordion","_render","_this","_accordionButtons","_accordionContentsAttr","_accordionContents","_activeContainer","_activeButton","_activeAccordionRowId","_activeRowAttr","_activeRow","_activeContainerId","_activeContainerAttr","_activeContent","_activeButtonExpandState","_activeContentHiddenState","_headerLevels","accordionButtonSelector","_getPossibleAccordionButtonAttrs","forEach","button","_this2","_setupAccordion","_this3","target","getAttribute","_getAccordionRowAttr","console","error","NO_ACCORDION_ERROR","getElementById","accordionButtonState","_closeAllIfToggleable","_toggleSelectedAccordion","buttonId","buttonContent","accordionRowAttr","accordionRow","buttonHeaderAttr","_getPossibleAccordionHeaderAttrs","buttonHeader","buttonContentChildren","setAttribute","contentShouldExpand","style","maxHeight","scrollHeight","attr","num","hasAttribute","allContentAttr","allRows","allContent","allButtons","content","_this4","_toggleAttributeInCollection","activeContentBlock","value","_this5","elements","attributeName","currentValue","newValue","DATA_DROPDOWN","DATA_TARGET","DATA_PARENT","DATA_VISIBLE","TABINDEX","ARIA_HASPOPUP","ARIA_CONTROLS","ARIA_LABELLEDBY","ARIA_EXPANDED","ROLE","Dropdown","_handleFirstTabClose","_handleLastTabClose","_renderWithKeys","_handleClose","_handleEscapeKeyPress","_handleOffMenuClick","_activeDropdownButton","_activeDropdown","_activeDropdownMenu","_activeDropdownLinks","_allowFocusReturn","_activeDropdownId","_activeDropdownAttr","_activeDropdownMenuId","_dropdownButtons","_dropdowns","_dropdownContainerAttr","_dropdownTargetAttr","dropdown","_setupDropdown","key","stopPropagation","cursor","_getDropdownLinks","firstDropdownLink","lastDropdownLink","link","captureFocus","releaseFocus","_handleReturnFocus","TAB_INDEX","removeAttribute","dropdownId","dropdownAttr","dropdownMenuItemsAttr","dropdownMenu","dropdownButton","item","Modal","_handleOverlayClick","_modals","_modalButtons","_activeModalButton","_activeModalOverlay","_activeModal","_activeModalId","_activeModalOverlayAttr","_activeModalSelector","_activeModalCloseButtons","_modalContainerAttr","instance","_setupModal","_handleScrollStop","scrollTop","modalId","modal","modalWrapper","_handleScrollRestore","documentElement","Tooltip","_activeTrigger","_activeTooltip","_allTooltips","_setupTooltip","trigger","_getTrigger","tooltipId","_isLeftOrRight","_alignTooltip","_showTooltip","_listenForClose","_hideTooltip","_listenForOpen","property","triggerLength","_getComputedLength","tooltipLength","offset","top","left","tooltip","parseInt","window","getComputedStyle","slice","classes","contains","Accordions","_Accordion","Dropdowns","_Dropdown","Modals","_Modals","Tooltips","_Tooltips","_Utils","Undernet","start","enableFocusOutline","stop","disableFocusOutline"],"mappings":"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"}